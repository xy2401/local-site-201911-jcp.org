
<!-- ** BEGIN: header.jsp ** //-->






















<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3c.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html>
<head>
    

   
    <link href="/includes/css/menu.css" rel="stylesheet" type="text/css"></link>
    <link href="/includes/css/style.css" rel="stylesheet" type="text/css"></link>
    <!--[if lt IE 6]><link href="/includes/css/style5.css" rel="stylesheet" type="text/css" ></link><![endif]-->
    <!--[if gte IE 5]><link href="/includes/css/style6.css" rel="stylesheet" type="text/css" ></link><![endif]-->
    <link href="/includes/css/tabs.css"  rel="stylesheet" type="text/css"></link>

    <script type="text/javascript" src="/includes/scripts/tabs.js"></script>
    <script type="text/javascript" src="/includes/scripts/menu.js"></script>
   

    

    
        <title>The Java Community Process(SM) Program - communityprocess - maintenance</title>
    

    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
</head>



<body onload="P7_initPM(0,1,0,0,-1)">

    <a name="top"></a>

    <div id="header">
	<div id="logo">
		<a href="/en/home/index"><img src="/images/spacer.gif" alt="Java Community Process" height="81" width="151"></a>
	</div>
	<div id="tools">
		<div class="search">
			<form name="search" action="/en/jsr/summary" method="get" onsubmit="return validate_search()">
				<input name="id" value="Search JSRs" size="16" class="form" onfocus="nullify_if_equal(this, 'Search JSRs')" type="text">
				<a href="javascript:document.search.submit()" onclick="return validate_search()"><img src="/images/button_go.gif" width="21" height="16" border="0" alt="Submit this Search" name="sub_search"></a>
			</form>
		</div>
		<div class="tools">
			<a href="/en/press/pressroom">Press Room</a> &nbsp;|&nbsp;
			<a href="http://java.com/java/download/index.jsp?cid=jdp78399">Get Java Here</a> &nbsp;|&nbsp;
			<!-- <a href="javascript:void(0)">Print Format</a> &nbsp;|&nbsp;&nbsp; -->
		</div>

	</div>
	<div style="clear: right;"></div>

        

	<div class="topbar"><img src="/images/spacer.gif" alt="" height="3" width="154"></div>
	<div id="update"> </div>
    </div>


    

        <!-- ** BEGIN: Content Table ** //-->

        <table width="100%" border="0" cellpadding="0" cellspacing="0">

            <tr>

                <!-- ** BEGIN: Navigation Column ** //-->
                <td width="150" id="leftcontent" valign="top">
                    <!-- Navigation Placeholder //-->

                    

                    <div class="bar"><img src="/images/hr_dots1.gif" alt="" height="3" width="150"></div>

        <!-- begin find JSRs form -->
        <!-- IMPORTANT! do not convert this form to Struts < html : form > tag.  javascript change of form.action property fails. -->
        <img src="/images/hd_find-jsrs.gif" alt="Find JSRs" height="18" width="150">
        <form name="findjsr" action="/en/jsr/summary" method="get" class="pt5" onsubmit="return validate_findjsr()">
            <input name="id" size="18" class="form" value="Search JSRs" onfocus="nullify_if_equal(this, 'Search JSRs')" type="text">
	    <a href="javascript:document.findjsr.submit()" onclick="return validate_findjsr()"><img src="/images/button_go.gif" width="21" height="16" border="0" alt="Submit this Search" name="sub_search"></a>
        </form><br><br>

        <!-- ** Menu Start ** //-->

        <ul id="p7PMnav">
            <li><a href="/en/jsr/platform">JSRs by Platform</a></li>
            <li><a href="/en/jsr/tech">JSRs by Technology</a></li>
            <li><a href="/en/jsr/stage">JSRs by Stage</a></li>
            <li><a href="/en/jsr/ec">JSRs by Committee</a></li>
            <li><a href="/en/jsr/all">List of All JSRs</a></li>

            <!--end find JSRs form -->
            <div style="clear: both;"><img src="/images/spacer.gif" alt="" height="25" width="1"></div>

            <!--begin my JCP -->
            <img src="/images/hd_my-jcp.gif" alt="My JCP" height="18" width="150">
            

          <form name="login" method="get" action="/en/user/login" >
            <input name="Sign-in" type="submit" title="Sign-in" value="Sign-in" />
          </form>

            <div style="clear:both"><img src="/images/global/spacer.gif" width="1" height="3" alt=""></div>
            <div class="noNav">
                <a href="/en/user/register">Register for Site</a>
            </div>

             <div class="bar"><img src="/images/hr_dots1.gif" alt="" height="3" width="150"></div>
           <div class="noNav" style="color: #666666; padding: 0;">
              Use of JCP site is subject to the
              <a href="/en/home/terms" style="display:inline;padding: 0">JCP Terms of Use</a> and the
              <a href="http://www.oracle.com/us/legal/privacy/index.html" style="display:inline;padding: 0" href="">Oracle Privacy Policy</a>
          </div>

            

            <div style="clear:both"><img src="/images/global/spacer.gif" width="1" height="25" alt=""></div>

            <!--begin JCP info -->
            <img src="/images/hd_jcp-info.gif" alt="JCP Info" height="18" width="150">

            <li><a href="/en/procedures/overview" class="p7PMtrg">About JCP</a>
                <ul>
                    <li><a href="/en/procedures/overview">Program Overview</a></li>
                    <li><a href="/en/procedures/jcp2">JCP Process Document</a></li>
                    <li><a href="/en/whatsnew/calendar">Calendar</a></li>
                    <li><a href="/en/participation/members">JCP Members</a></li>
                    <li><a href="/en/participation/committee">Executive Committee</a></li>
                    <li><a href="/en/whatsnew/elections">Elections</a></li>
                </ul>
            </li>

            <li><a href="/en/participation/overview" class="p7PMtrg">Get Involved</a>
		<ul>
                    <li><a href="/en/participation/overview">Overview</a></li>
                    <li><a href="/en/participation/membership">Becoming a JCP Member</a></li>
		</ul>
            </li>

            <li><a href="/en/resources/contents" class="p7PMtrg">Community Resources</a>
                <ul>
                    <li><a href="/en/resources/contents">Overview</a></li>
                    <li><a href="/en/resources/tutorials">Tutorials</a></li>
                    <li><a href="/en/resources/multimedia">JCP Podcasts</a></li>
                    <li><a href="/en/resources/guide">Spec Lead Guide</a></li>
                    <li><a href="/en/resources/tdk">TCK Tool & Info</a></li>
                    <li><a href="/en/resources/license_reference">License Reference</a></li>
                </ul>
            </li>

            <li><a href="/en/press/pmo" class="p7PMtrg">Community News</a>
                <ul>
                    <li><a href="/en/press/pmo">News</a></li>
                    <li><a href="/en/press/news/awards/awards_main">Programs &amp; Awards</a></li>
                    <li><a href="/en/press/releases">Press Releases</a></li>
                    <li><a href="/en/press/success">Success Stories</a></li>
                </ul>
            </li>

            <li><a href="/en/introduction/faq">FAQ</a></li>

            <li><a href="/en/resources/contacts">Contact Us</a></li>

            <div style="clear: both;"><img src="/images/spacer.gif" alt="" height="25" width="1"></div>

            <!--[if lte IE 6]><style>#p7PMnav a{height:1em;}#p7PMnav li{height:1em;float:left;clear:both;width:100%}</style><![endif]-->
            <!--[if IE 6]><style>#p7PMnav li{clear:none;}</style><![endif]-->
            <!--[if IE 7]><style>#p7PMnav a{zoom:100%;}#p7PMnav li{float:left;clear:both;width:100%;}</style><![endif]-->
        </ul>

        

        <!--begin ad space -->
        <div class="ads">
            <a href="http://java.com/java/download/index.jsp?cid=jdp78399" target="_blank"><img style="display: ;" src="/images/ad_banner2.gif" alt="Ad Banner" border="1" height="70" width="150"></a>
        </div>
        <!--end ad space -->

<!-- ** Menu End ** //-->
&nbsp;<br>
&nbsp;<br>
&nbsp;<br>

    

                    &nbsp;<br>
                    <img src="/images/common/trans.gif" alt="" width="1" height="150"><br>

              



                </td>
                <!-- ** END: Navigation Column ** //-->

                <!-- ** BEGIN: Gutter Column ** //-->
		<td width="10" nowrap><img src="/images/common/trans.gif" alt="" width="10" height="1"></td>
                <!-- ** END: Gutter Column ** //-->

                <!-- ** BEGIN: Content Column ** //-->
                <td width="100%" valign="top">

    
<script type="text/javascript">

String.prototype.trim = function() {
        return this.replace(/^\s+|\s+$/g,"");
}
String.prototype.ltrim = function() {
        return this.replace(/^\s+/,"");
}
String.prototype.rtrim = function() {
        return this.replace(/\s+$/,"");
}

function validate_search() {
	if (document.search.id.value == "Search JSRs" || document.search.id.value.trim().length == 0) {
		alert("Search terms must be entered first");
		return false;
	}
	return true;
}

function validate_findjsr() {
	if (document.findjsr.id.value == "Search JSRs" || document.findjsr.id.value.trim().length == 0) {
		alert("Search terms must be entered first");
		return false;
	}
	return true;
}

function nullify_if_equal(field, str) {
	// alert("val=" + field.value);
	if (field.value == str) {
		field.value = "";
	}
}

</script>
<!-- ** END: header.jsp ** //-->






<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta content="text/html; charset=ISO-8859-1"
 http-equiv="content-type">
  <title>JSP 2.1 Change Logs - Part II: EL</title>
</head>
<body>
<div align="center">
<h2>JSR 245 JavaServer<sup><small>TM</small></sup> Pages JSP 2.1 Maintenance Review 2 Part II</h2>
</div>

<div align="center"><small>
Please send feedback to
<a href="mailto:kin-man.chung@sun.com">kin-man.chung@sun.com</a>
</small></div>
<p>This is a maintenance review for JSR-245, JavaServer<sup>TM</sup>
Pages 2.1 Specification (JSP 2.1).  There are two parts in the MR, Part I
covers the JSP specification,
and part II covers the Expression Language specification. </p>
<p>The main goal for this part of the maintenance review is
is to introduce a new syntax for method invocations
in EL, and to add an access method to <code>ValueExpression</code>
as requested by JSR-303.
</p>

<h3>Propsed Changes</h3>

<h4>1. EL Operators [] and .</h4>

    These operators now accepts optional parameters:<br>
<pre>
        expr-a[expr-b](parameters)
        expr-a.identifier-b(parameters)
</pre>

    where <code>parameters</code> is 0 or more expressions, separated by commas.
    This syntax can be used for method invocations.

<p>
    The expression <code>expr-a</code> is evaluated to represent a bean object.  The
    expression <code>expr-b</code> is evaluated and coerced to a string.  This string
    or the string <code>identifier-b</code> is the name of the method in <code>expr-a</code>.
    The <code>parameters</code> are the actual parameters for the method invocation.
</p>
<p>
    If the expression is a <code>ValueEpxression</code>, then calling its <code>getValue</code> method
    causes the method to be invoked.  If the expression is a
    <code>MethodExpression</code>, then calling its <code>invoke</code> method causes the
    method to be invoked, and the parameters <code>params</code> for the <code>invoke</code> method
    will be ignored, since those specified in EL will be used.</p>
<p>
    To be more precise, the behavior for invoking the method specified
    in the above EL expression is resolved by the EL resolver in the
    current EL context.  A method <code>invoke</code> is added to 
    <code>ELResolver</code> to resolve the value for such EL syntax.
    The <code>invoke</code> method in <code>BeanELResolver</code>
    provides a default behavior for invoking methods in a
    bean object.  By using a custom EL resolver, the user can make calls
    to "methods" that do not exist in a class.  This allows
    for creation of macros, and can lead to interesting applications.
</p>
<h4>2. New method javax.el.ELResolver.invoke</h4>

   <p> Attemps to resolve and invoke the given <code>method</code> on the given
 <code>base</code> object.
      <p>If this resolver handles the given (base, method) pair,
      the <code>propertyResolved</code> property of the
      <code>ELContext</code> object must be set to <code>true</code>
      by the resolver, before returning. If this property is not
      <code>true</code> after this method is called, the caller should ignore
      the return value.</p>
     
      <p>A default implementation is provided that returns null so that
      existing classes that extend ELResolver can continue to function.</p>
<pre>     
      @param context The context of this evaluation.
      @param base The bean on which to invoke the method
      @param method The simple name of the method to invoke.
          Will be coerced to a <code>String</code>.
      @param paramTypes An array of Class objects identifying the
          method's formal parameter types, in declared order.
          Use an empty array if the method has no parameters.
          Can be <code>null</code>, in which case the method's formal
          parameter types are assumed to be unknown.
      @param params The parameters to pass to the method, or
          <code>null</code> if no parameters.
      @return The result of the method invocation (<code>null</code> if
          the method has a <code>void</code> return type).
      @throws MethodNotFoundException if no suitable method can be found.<br>
      @throws ELException if an exception was thrown while performing
          (base, method) resolution.  The thrown exception must be
          included as the cause property of this exception, if
          available.  If the exception thrown is an
          <code>InvocationTargetException</code>, extract its
          <code>cause</code> and pass it to the
          <code>ELException</code> constructor.

    public Object invoke(ELContext context,
                         Object base,
                         Object method,
                         Class<?>[] paramTypes,
                         Object[] params) {
        return null;
    }
</pre>

<h4>3. New method <b>java.el.BeanELResolver.invoke</b></h4>
<p>
    Provides a
    default implementation for resolving the method invocations in a bean.
</p>
     <p> If the base object is not <code>null</code>, invoke the method, with
     the given parameters on this bean.  The return value from the method
     is returned.</p>
     <p>If the base is not <code>null</code>, the
     <code>propertyResolved</code> property of the <code>ELContext</code>
     object must be set to <code>true</code> by this resolver, before
     returning. If this property is not <code>true</code> after this
     method is called, the caller should ignore the return value.</p>
     
      <p>The provided method object will first be coerced to a
      <code>String</code>.  The methods in the bean is then examined and
      an attempt will be made to select one for invocation.  If no suitable
      can be found, a <code>MethodNotFoundException</code> is thrown.</p>
      <p>
      If the given paramTypes is not <code>null</code>, select the method
      with the given name and parameter types.</p>
     
     <p> Else select the method with the given name that has the same number
     of parameters.  If there are more than one such method, the method
     selection process is undefined.</p>
     <p>Else select the method with the given name that takes a variable
      number of arguments.</p>
     <p>
      Note the resolution for overloaded methods will likely be clarified
      in a future version of the spec.</p>
     <p>
      The provided parameters are coerced to the corresponding parameter
      types of the method, and the method is then invoked.</p>
<pre>     
      @param context The context of this evaluation.
      @param base The bean on which to invoke the method
      @param method The simple name of the method to invoke.
          Will be coerced to a <code>String</code>.  If method is
          "&lt;init&gt;"or "&lt;clinit&gt;" a MethodNotFoundException is
          thrown.
      @param paramTypes An array of Class objects identifying the
          method's formal parameter types, in declared order.
          Use an empty array if the method has no parameters.
          Can be <code>null</code>, in which case the method's formal
          parameter types are assumed to be unknown.
      @param params The parameters to pass to the method, or
          <code>null</code> if no parameters.
      @return The result of the method invocation (<code>null</code> if
          the method has a <code>void</code> return type).
      @throws MethodNotFoundException if no suitable method can be found.
      @throws ELException if an exception was thrown while performing
          (base, method) resolution.  The thrown exception must be
          included as the cause property of this exception, if
          available.  If the exception thrown is an
          <code>InvocationTargetException</code>, extract its
          <code>cause</code> and pass it to the
          <code>ELException</code> constructor.
<code>
    public Object invoke(ELContext context,
                         Object base,
                         Object method,
                         Class<?>[] paramTypes,
                         Object[] params) {
        ...
    }
</code>
</pre>

<h4>4. New class javax.el.ValueReference</h4>
    
 <p> This encapsulates a base model object and one of its properties.</p>

<pre>
<code>
public class ValueReference implements Serializable {

    private Object base;
    private Object property;

    public ValueReference(Object base, Object property) {
        this.base = base;
        this.property = property;
    }

    public Object getBase() {
        return base;
    }

    public Object getProperty() {
        return property;
    }
}
</code>
</pre>

<h4>5. New method javax.el.ValueExpression.getValueReference</h4>

     <p> Returns a <code>ValueReference</code> for this expression instance.</p>
<pre>
      @param context the context of this evaluation
      @return the <code>ValueReference</code> for this
      <code>ValueExpression</code>, or <code>null</code> if this
      <code>ValueExpression</code> is not a reference to
      a base (null or non-null) and a property.
      If the base is null, and the property is a EL variable, return
      the <code>ValueReference</code> for the
      <code>ValueExpression</code> associated with this EL variable.
<code> 
    public ValueReference getValueReference(ELContext context) {
        return null;
    }
</code>
</pre>
</body>
</html>





<!-- ** BEGIN: footer.jsp ** //-->








</td>
</tr>
</table>

<!-- ** END: Content Table ** //-->

<!-- ** BEGIN: Footer Table ** //-->

<div id="footer" style="clear: both;">
    <div class="footleft">
        <a href="/en/resources/contacts">Contact Us</a>
    </div>
	
    <div class="botbar"><img src="/images/spacer.gif" alt="" height="23" width="1"></div>

    <div class="footleft2">
         &copy; 2019, Oracle Corporation and/or its affiliates. 
        <a href="/en/home/terms">Terms of Use</a>. <a href="http://www.oracle.com/us/legal/privacy/index.html">Privacy Policy</a>. <a href="http://www.oracle.com/us/legal/third-party-trademarks/third-party-trademarks-078568.html">Trademarks</a>
    </div>

    <div class="footright">
        <img src="/images/common/logo_oracle_footer.gif" alt="Oracle Corporation" height="22" width="91">
    </div>

    <div style="clear: both;"><img src="/images/spacer.gif" alt="" height="30" width="1"></div>
</div>

<!-- ** END: Footer Table ** //-->



<!-- ** Menu Start ** //-->



</body>
</html>
<!-- ** END: footer.jsp ** //-->


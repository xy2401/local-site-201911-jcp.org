
<!-- ** BEGIN: header.jsp ** //-->






















<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3c.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html>
<head>
    

   
    <link href="/includes/css/menu.css" rel="stylesheet" type="text/css"></link>
    <link href="/includes/css/style.css" rel="stylesheet" type="text/css"></link>
    <!--[if lt IE 6]><link href="/includes/css/style5.css" rel="stylesheet" type="text/css" ></link><![endif]-->
    <!--[if gte IE 5]><link href="/includes/css/style6.css" rel="stylesheet" type="text/css" ></link><![endif]-->
    <link href="/includes/css/tabs.css"  rel="stylesheet" type="text/css"></link>

    <script type="text/javascript" src="/includes/scripts/tabs.js"></script>
    <script type="text/javascript" src="/includes/scripts/menu.js"></script>
   

    

    
        <title>The Java Community Process(SM) Program - communityprocess - maintenance</title>
    

    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
</head>



<body onload="P7_initPM(0,1,0,0,-1)">

    <a name="top"></a>

    <div id="header">
	<div id="logo">
		<a href="/en/home/index"><img src="/images/spacer.gif" alt="Java Community Process" height="81" width="151"></a>
	</div>
	<div id="tools">
		<div class="search">
			<form name="search" action="/en/jsr/summary" method="get" onsubmit="return validate_search()">
				<input name="id" value="Search JSRs" size="16" class="form" onfocus="nullify_if_equal(this, 'Search JSRs')" type="text">
				<a href="javascript:document.search.submit()" onclick="return validate_search()"><img src="/images/button_go.gif" width="21" height="16" border="0" alt="Submit this Search" name="sub_search"></a>
			</form>
		</div>
		<div class="tools">
			<a href="/en/press/pressroom">Press Room</a> &nbsp;|&nbsp;
			<a href="http://java.com/java/download/index.jsp?cid=jdp78399">Get Java Here</a> &nbsp;|&nbsp;
			<!-- <a href="javascript:void(0)">Print Format</a> &nbsp;|&nbsp;&nbsp; -->
		</div>

	</div>
	<div style="clear: right;"></div>

        

	<div class="topbar"><img src="/images/spacer.gif" alt="" height="3" width="154"></div>
	<div id="update"> </div>
    </div>


    

        <!-- ** BEGIN: Content Table ** //-->

        <table width="100%" border="0" cellpadding="0" cellspacing="0">

            <tr>

                <!-- ** BEGIN: Navigation Column ** //-->
                <td width="150" id="leftcontent" valign="top">
                    <!-- Navigation Placeholder //-->

                    

                    <div class="bar"><img src="/images/hr_dots1.gif" alt="" height="3" width="150"></div>

        <!-- begin find JSRs form -->
        <!-- IMPORTANT! do not convert this form to Struts < html : form > tag.  javascript change of form.action property fails. -->
        <img src="/images/hd_find-jsrs.gif" alt="Find JSRs" height="18" width="150">
        <form name="findjsr" action="/en/jsr/summary" method="get" class="pt5" onsubmit="return validate_findjsr()">
            <input name="id" size="18" class="form" value="Search JSRs" onfocus="nullify_if_equal(this, 'Search JSRs')" type="text">
	    <a href="javascript:document.findjsr.submit()" onclick="return validate_findjsr()"><img src="/images/button_go.gif" width="21" height="16" border="0" alt="Submit this Search" name="sub_search"></a>
        </form><br><br>

        <!-- ** Menu Start ** //-->

        <ul id="p7PMnav">
            <li><a href="/en/jsr/platform">JSRs by Platform</a></li>
            <li><a href="/en/jsr/tech">JSRs by Technology</a></li>
            <li><a href="/en/jsr/stage">JSRs by Stage</a></li>
            <li><a href="/en/jsr/ec">JSRs by Committee</a></li>
            <li><a href="/en/jsr/all">List of All JSRs</a></li>

            <!--end find JSRs form -->
            <div style="clear: both;"><img src="/images/spacer.gif" alt="" height="25" width="1"></div>

            <!--begin my JCP -->
            <img src="/images/hd_my-jcp.gif" alt="My JCP" height="18" width="150">
            

          <form name="login" method="get" action="/en/user/login" >
            <input name="Sign-in" type="submit" title="Sign-in" value="Sign-in" />
          </form>

            <div style="clear:both"><img src="/images/global/spacer.gif" width="1" height="3" alt=""></div>
            <div class="noNav">
                <a href="/en/user/register">Register for Site</a>
            </div>

             <div class="bar"><img src="/images/hr_dots1.gif" alt="" height="3" width="150"></div>
           <div class="noNav" style="color: #666666; padding: 0;">
              Use of JCP site is subject to the
              <a href="/en/home/terms" style="display:inline;padding: 0">JCP Terms of Use</a> and the
              <a href="http://www.oracle.com/us/legal/privacy/index.html" style="display:inline;padding: 0" href="">Oracle Privacy Policy</a>
          </div>

            

            <div style="clear:both"><img src="/images/global/spacer.gif" width="1" height="25" alt=""></div>

            <!--begin JCP info -->
            <img src="/images/hd_jcp-info.gif" alt="JCP Info" height="18" width="150">

            <li><a href="/en/procedures/overview" class="p7PMtrg">About JCP</a>
                <ul>
                    <li><a href="/en/procedures/overview">Program Overview</a></li>
                    <li><a href="/en/procedures/jcp2">JCP Process Document</a></li>
                    <li><a href="/en/whatsnew/calendar">Calendar</a></li>
                    <li><a href="/en/participation/members">JCP Members</a></li>
                    <li><a href="/en/participation/committee">Executive Committee</a></li>
                    <li><a href="/en/whatsnew/elections">Elections</a></li>
                </ul>
            </li>

            <li><a href="/en/participation/overview" class="p7PMtrg">Get Involved</a>
		<ul>
                    <li><a href="/en/participation/overview">Overview</a></li>
                    <li><a href="/en/participation/membership">Becoming a JCP Member</a></li>
		</ul>
            </li>

            <li><a href="/en/resources/contents" class="p7PMtrg">Community Resources</a>
                <ul>
                    <li><a href="/en/resources/contents">Overview</a></li>
                    <li><a href="/en/resources/tutorials">Tutorials</a></li>
                    <li><a href="/en/resources/multimedia">JCP Podcasts</a></li>
                    <li><a href="/en/resources/guide">Spec Lead Guide</a></li>
                    <li><a href="/en/resources/tdk">TCK Tool & Info</a></li>
                    <li><a href="/en/resources/license_reference">License Reference</a></li>
                </ul>
            </li>

            <li><a href="/en/press/pmo" class="p7PMtrg">Community News</a>
                <ul>
                    <li><a href="/en/press/pmo">News</a></li>
                    <li><a href="/en/press/news/awards/awards_main">Programs &amp; Awards</a></li>
                    <li><a href="/en/press/releases">Press Releases</a></li>
                    <li><a href="/en/press/success">Success Stories</a></li>
                </ul>
            </li>

            <li><a href="/en/introduction/faq">FAQ</a></li>

            <li><a href="/en/resources/contacts">Contact Us</a></li>

            <div style="clear: both;"><img src="/images/spacer.gif" alt="" height="25" width="1"></div>

            <!--[if lte IE 6]><style>#p7PMnav a{height:1em;}#p7PMnav li{height:1em;float:left;clear:both;width:100%}</style><![endif]-->
            <!--[if IE 6]><style>#p7PMnav li{clear:none;}</style><![endif]-->
            <!--[if IE 7]><style>#p7PMnav a{zoom:100%;}#p7PMnav li{float:left;clear:both;width:100%;}</style><![endif]-->
        </ul>

        

        <!--begin ad space -->
        <div class="ads">
            <a href="http://java.com/java/download/index.jsp?cid=jdp78399" target="_blank"><img style="display: ;" src="/images/ad_banner2.gif" alt="Ad Banner" border="1" height="70" width="150"></a>
        </div>
        <!--end ad space -->

<!-- ** Menu End ** //-->
&nbsp;<br>
&nbsp;<br>
&nbsp;<br>

    

                    &nbsp;<br>
                    <img src="/images/common/trans.gif" alt="" width="1" height="150"><br>

              



                </td>
                <!-- ** END: Navigation Column ** //-->

                <!-- ** BEGIN: Gutter Column ** //-->
		<td width="10" nowrap><img src="/images/common/trans.gif" alt="" width="10" height="1"></td>
                <!-- ** END: Gutter Column ** //-->

                <!-- ** BEGIN: Content Column ** //-->
                <td width="100%" valign="top">

    
<script type="text/javascript">

String.prototype.trim = function() {
        return this.replace(/^\s+|\s+$/g,"");
}
String.prototype.ltrim = function() {
        return this.replace(/^\s+/,"");
}
String.prototype.rtrim = function() {
        return this.replace(/\s+$/,"");
}

function validate_search() {
	if (document.search.id.value == "Search JSRs" || document.search.id.value.trim().length == 0) {
		alert("Search terms must be entered first");
		return false;
	}
	return true;
}

function validate_findjsr() {
	if (document.findjsr.id.value == "Search JSRs" || document.findjsr.id.value.trim().length == 0) {
		alert("Search terms must be entered first");
		return false;
	}
	return true;
}

function nullify_if_equal(field, str) {
	// alert("val=" + field.value);
	if (field.value == str) {
		field.value = "";
	}
}

</script>
<!-- ** END: header.jsp ** //-->






<html>
<head>
<title>JSR-000052 JavaServer Pages (JSP) Standard Tag Library (JSTL) - Change Log</title>
</head>
<body>
<h2>JSR 052 &#149; JavaServer Pages&#8482; (JSP&#8482;) Standard Tag Library (JSTL)<br>
Maintenance Review (1.1)
</h2>

<hr noshade>

<h3>Description</h3>
Maintenance review of the JavaServer Pages&#8482; (JSP&#8482;) Standard Tag Library (JSTL), version 1.1.


<h3>Maintenance Lead</h3>
Pierre Delisle, Sun Microsystems, Inc.

<h3>Feedback</h3>
Comments should be sent to jsr-52-comments@jcp.org

<h3>Rationale for proposed changes</h3>

As already stated in the JSTL 1.0 specification, the specification
of the Expression Language first introduced in JSTL 1.0 is now moving
into the JSP 2.0 specification.

The primary goal of the JSTL 1.1 maintenance release is to synchronize
the JSTL specification with the JSP 2.0 specification which now
<i>owns</i> the EL. This maintenance release also adresses
clarifications and corrections needed to the initial specification.

<hr noshade>

<h2>Proposed Changes</h2>

<h4>Expression Language moved to the JSP specification</h4> 
Make necessary changes all across the
specification to reflect the fact that the Expression Language now
belongs to the JSP specification (JSP 2.0).  This includes removing "Appendix A
- Expression Language Definition", as well as modifying examples to
take advantage of the fact that EL expressions can now be used in
template text and do not require the use of the &lt;c:out> action
(unless the <code>escapeXml</code> or <code>default</code> features
of &lt;c:out> are required).

<h4>Compatibility and Migration</h4>
Add new appendix to provide information on compatibility between different versions of
JSTL, as well as on how to migrate a web application to take advantage of the
new features of the latest JSTL release. The content of this appendix is
included at the end of this change log.

<h4>Functions</h4>
JSP 2.0 introduces EL functions. Define a simple, standard set of functions
that has been most often requested by page authors. This includes functions 
to get the size of a collection, and to perform common string manipulations:

<ul>
<li>contains(<i>string</i>, <i>substring</i>) -> boolean</li>
<li>containsIgnoreCase(<i>string</i>, <i>substring</i>) -> boolean</li>
<li>endsWith(<i>string</i>, <i>suffix</i>) -> boolean</li>
<li>escapeXml(<i>string</i>) -> String</li>
<li>indexOf(<i>string</i>, <i>substring</i>) -> int</li>
<li>join(<i>collection</i>, <i>separator</i>) -> String</li>
<li>length(<i>collection</i>) -> int</li>
<li>replace(<i>inputString</i>, <i>beforeSubstring</i>, <i>afterSubstring</i>) -> String</li>
<li>split(<i>string</i>, <i>separator</i>) -> String[]</li>
<li>startsWith(<i>string</i>, <i>prefix</i>) -> boolean</li>
<li>substring(<i>string</i>, <i>beginIndex</i>, <i>endIndex</i>) -> String</li>
<li>substringAfter(<i>string</i>, <i>substring</i>) -> String</li>
<li>substringBefore(<i>string</i>, <i>substring</i>) -> String</li>
<li>toLowerCase(<i>string</i>) -> String</li>
<li>toUpperCase(<i>string</i>) -> String</li>
<li>trim(<i>string</i>) -> String</li>
</ul>

<h4>Support for direct transfer from Reader -> out</h4>
With JSP 2.0, displaying the content of a Reader object to "out" has been
identified as an important use case, creating the need for a mechanism
to handle a direct transfer from reader -> out. This will be provided
as an extension of &lt;c:out>.
<p>
In Section 4.2, behavior will now be defined as follows:
<p>
  The expression to be evaluated is specified via the value attribute.
<p>
  If the result of the evaluation is not a java.io.Reader object,
  then it is coerced to a String and is subsequently emitted into the current
  JspWriter object.
<p>
  If the result of the evaluation is a java.io.Reader object,
  data is first read from the Reader object and then written into the current
  JspWriter object. This special processing associated with Reader
  objects should help improve performance when large amount of data
  must be read and then displayed to the page. 

<h4>Default values</h4>
Add new section to describe how default values can be handled in a generic way in JSTL.
<p>
2.9 Default Values
<p>
It is often desirable to display a default value if the output of an
action yields a null value. This can be done in a generic way in JSTL
by exporting the output of an action via attribute var, and then
displaying the value of that scoped variable with action &lt;c:out>.
<p>
For example:<br>
&lt;fmt:formatDate var="formattedDate" value="${reservationDate}"/><br>
Date: &lt;c:out value="${formattedDate}" default="not specified"/>

<h4>end attribute >= begin attribute in iterator actions</h4>
The spec currently constrains the end attribute to be greater than or equal
to the begin attribute. 
The spec will be relaxed to handle this situation 
according to common practices of modern
programming languages (e.g. C++, Java, Perl). If end < begin,
the loop will simply not be executed.

<h4>Correct the way character encoding is handled for &lt;c:import></h4>
In Section 7.4, behavior will now be defined as follows:
<p>
  &lt;c:import> exposes a String or Reader object, both of which are sequences of text
  characters. It is possible to specify the character encoding of the input resource
  via the charEncoding attribute. The values supported for charEncoding 
  are the same as the ones supported by the constructor of the Java class 
  InputStreamReader.
  <p>
  If the character encoding is not specified, the following rules apply:
<ul>
<li>
If URLConnection.getContentType() has a non-null result, the
    character set is retrieved from URLConnection.getContentType() by
    parsing this method's result according to RFC 2045 (section 5.1).
<li>If this method's result does not include a character set, or if
    the character set causes InputStreamReader(InputStream in,
    String charsetName) to throw an UnsupportedEncodingException, then
    use ISO-8859-1 (which is the default value of charset for the
    contentType attribute of the JSP "page" directive).
</ul>

<h4>
Correct the inconsistency between &lt;fmt:message> and &lt;fmt:formatXXX> when 
&lt;fmt:message> is used with parametric replacement and a locale-less
localization context</h4>
Correct as follows:
<p>
If the localization context does not have any locale, the locale of
  the java.text.MessageFormat is set to the locale returned by the formatting
  locale lookup algorithm in section 9.3, except that the available formatting
  locales are given as the intersection of the number- and date-
  formatting locales. If this algorithm does not yield any locale,
  the locale of the java.text.MessageFormat is set to the runtime's default
  locale.
</ul>

<h4>Null or empty values with formatting actions</h4>
Clarify the behavior of &lt;fmt:formatNumber> and &lt;fmt:formatDate> (sections 9.7 and 9.9)
when value is null or empty.
<ul>
<li>
If value is null or empty, nothing is written to the current JspWriter object and 
the scoped variable is removed if it is specified (see attributes var and scope).
</ul>

<h4>Connection handling in SQL actions</h4>
Clarify the fact that SQL actions in JSTL always release connections to the database as quickly as possible (a connection is always closed by the time execution of the action responsible for opening it completes).


<h4>Context for XPath expression evaluations 
nested within &lt;x:forEach></h4>

This will be clarified through a new description subsection in Section 12.6:
<p>
Inside the body of the <x:forEach> tag, the context for XPath expression
evaluations is obtained as follows:
<ul>
   <li> variable, function, and namespace bindings operate as in the rest of
     JSTL
   <li>the context node is the node whose representation would be exposed by
     'var' (whether or not the 'var' attribute is specified)
   <li>the context position is the iteration 'count' (with the same meaning
     as in &lt;c:forEach>)
   <li>the context size is equal to the number of nodes in the node-set
     over which &lt;x:forEach> is presently iterating. 
</ul>


<h4>Align behavior of &lt;x:forEach> with &lt;c:forEach></h4>
Add attributes varStatus, begin, end, and step.

<h4>Default context node for Xpath expression evaluations</h4>
This will be clarified through the new section
"11.1.7 Default Context Node".
<p>
  The context node for every XPath expression evaluation in JSTL
  that does not appear in the body of an &lt;x:forEach> tag is the
  root of an empty document. Page authors wishing to work with documents
  must therefore supply their own node(s) using an XPath variable
  (see section 11.1.2).
<p>
  Action &lt;x:forEach> establishes for its nested actions a specific
  context for XPath expressions evaluation. See section 12.6 for
  details.




<h4>Replace attributes that start with "xml"</h4>
Names beginning with the string "xml" are reserved by the XML specification.
<ul>
<li>
Add new attribute doc for &lt;x:parse> to replace attribute xml that is now being deprecated. 
<li>
Add new attributes doc and docSystemId for &lt;x:transform> to replace attributes xml and xmlSystemId that are now being
deprecated. 
</ul>

<h4>Minor corrections</h4>
<ul>
<li>
Correct status with varStatus in section 6.6.
<li>
Correct the resulting locale of examples 1 and 3 in Section 8.3.3.<br>
In both cases, the resulting locale is en_GB.
<li>Correct the syntax of &lt;sql:dateParam> in Section 10.8.<br>
&lt;sql:dateParam value="value" [type="{timestamp|time|date}"]/>
</ul>

<h2>Deferred Changes</h2>

<h4>Provide adequate XML Namespace support for the XML actions</h4>
JSTL 1.0 does not currently provide adequate support for XML namespaces
in XPath expressions. Collaboration between the JSP, JAXP, and JSTL 
specs is necessary to come up with the proper solution. This will therefore
be addressed in the next major revision of JSTL.

<hr noshade>
	
<h3>Appendix C. Compatibility & Migration</h3>

This appendix provides information on compatibility between different
versions of JSTL, as well as on how to migrate your web application to
take advantage of the new features of the latest JSTL release.

<h4>C.1 JSTL 1.1 backwards compatibility</h4>

JSTL 1.1 is backwards compatible with JSTL 1.0. This means that a
web-application that was developed to run with JSTL 1.0 won�t require
any modification when run with JSTL 1.1. Details explaining how this
backwards compatibility is achieved are given in Section C.1.1
below. <p>

If your application executes in an environment that has JSTL 1.1, it
is however recommended that you migrate to JSTL 1.1 to take full
advantage of the new capabilities it offers. Details on how to migrate
your web-application from JSTL 1.0 to JSTL 1.1 are given in Section
C.2.

<h5>C.1.1How JSTL 1.1 backwards compatibility is achieved</h5>

JSTL 1.0 requires JSP 1.2 (J2EE 1.3 platform). The key difference
between JSTL 1.0 and JSTL 1.1 is that the expression language (EL) has
moved from the JSTL specification to the JSP specification. The EL is
therefore now part of the JSP 2.0 specification, and JSTL 1.1 requires
JSP 2.0 (J2EE 1.4 platform).
<p>

A web application developed for JSP 1.2 has a servlet 2.3 deployment
descriptor (web.xml). JSP 2.0 provides backwards compatibility for JSP
1.2 web applications by disabling by default the EL machinery
(i.e. evaluation of EL expressions) when a web application has a
servlet 2.3 deployment descriptor. A web application that uses JSTL
1.0 and which is deployed with a servlet 2.3 deployment descriptor
therefore runs without any modification in a J2EE 1.4 environment
because EL expressions are ignored by JSP 2.0, and JSTL 1.0 keeps
evaluating them as was the case with JSP 1.2.
<p>

To support backwards compatibility, JSTL 1.1 introduces new URIs that
must be specified to use the new capabilities offered in JSTL
1.1. Among these new capabilities is the evaluation of EL expressions
being performed by the JSP 2.0 container rather than JSTL itself. The
new URIs for JSTL 1.1 are as follows: 
<ul>
<li>http://java.sun.com/jstl-el/core
<li>http://java.sun.com/jstl-el/xml
<li>http://java.sun.com/jstl-el/fmt
<li>http://java.sun.com/jstl-el/sql
</ul>

The new URIs are similar to the old JSTL 1.0 EL URIs, except that jstl
has been replaced by jstl-el, meaning "JSTL minus the EL". It would
have been desirable to move forward with the same EL URIs in JSTL 1.1,
however this would have only been possible at the cost of losing full
backwards compatibility. Maintaining backwards compatibility was felt
more important than preserving the old URIs. As a side note, we like
to view the new URIs as a reminder of the unique contribution that
JSTL has made by introducing the Expression Language in JSTL 1.0,
whose success led to its adoption by the JSP specification.
<p>

The JSTL 1.0 URIs are deprecated as of JSTL 1.1. If used, they should
normally appear in a web application that has a servlet 2.3 deployment
descriptor to disable the JSP 2.0 EL machinery. If used with a servlet
2.4 deployment descriptor, the JSP 2.0 EL machinery must be
explicitely disabled for the pages where the JSTL 1.0 tag libraries
are used. Consult the JSP specification for details.

<h4>C.2. Migrating to JSTL 1.1</h4>

To migrate from JSTL 1.0 to JSTL 1.1, so a web application can take
advantage of the new features associated with JSTL 1.1, one must do
the following:
<ul>
<li>
Migrate the web application deployment descriptor (web.xml) from servlet 2.3 to servlet 2.4. 
See Servlet 2.4 specification for details
<li>
Replace all the JSTL 1.0 EL & RT URIs by the new JSTL 1.1 URIs
<li>
Escape all occurrences of "{" in RT actions and template text.
See JSP 2.0 specification for details.
</ul>
</body>
</html>




<!-- ** BEGIN: footer.jsp ** //-->








</td>
</tr>
</table>

<!-- ** END: Content Table ** //-->

<!-- ** BEGIN: Footer Table ** //-->

<div id="footer" style="clear: both;">
    <div class="footleft">
        <a href="/en/resources/contacts">Contact Us</a>
    </div>
	
    <div class="botbar"><img src="/images/spacer.gif" alt="" height="23" width="1"></div>

    <div class="footleft2">
         &copy; 2019, Oracle Corporation and/or its affiliates. 
        <a href="/en/home/terms">Terms of Use</a>. <a href="http://www.oracle.com/us/legal/privacy/index.html">Privacy Policy</a>. <a href="http://www.oracle.com/us/legal/third-party-trademarks/third-party-trademarks-078568.html">Trademarks</a>
    </div>

    <div class="footright">
        <img src="/images/common/logo_oracle_footer.gif" alt="Oracle Corporation" height="22" width="91">
    </div>

    <div style="clear: both;"><img src="/images/spacer.gif" alt="" height="30" width="1"></div>
</div>

<!-- ** END: Footer Table ** //-->



<!-- ** Menu Start ** //-->



</body>
</html>
<!-- ** END: footer.jsp ** //-->



<!-- ** BEGIN: header.jsp ** //-->






















<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3c.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html>
<head>
    

   
    <link href="/includes/css/menu.css" rel="stylesheet" type="text/css"></link>
    <link href="/includes/css/style.css" rel="stylesheet" type="text/css"></link>
    <!--[if lt IE 6]><link href="/includes/css/style5.css" rel="stylesheet" type="text/css" ></link><![endif]-->
    <!--[if gte IE 5]><link href="/includes/css/style6.css" rel="stylesheet" type="text/css" ></link><![endif]-->
    <link href="/includes/css/tabs.css"  rel="stylesheet" type="text/css"></link>

    <script type="text/javascript" src="/includes/scripts/tabs.js"></script>
    <script type="text/javascript" src="/includes/scripts/menu.js"></script>
   

    

    
        <title>The Java Community Process(SM) Program - communityprocess - maintenance</title>
    

    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
</head>



<body onload="P7_initPM(0,1,0,0,-1)">

    <a name="top"></a>

    <div id="header">
	<div id="logo">
		<a href="/en/home/index"><img src="/images/spacer.gif" alt="Java Community Process" height="81" width="151"></a>
	</div>
	<div id="tools">
		<div class="search">
			<form name="search" action="/en/jsr/summary" method="get" onsubmit="return validate_search()">
				<input name="id" value="Search JSRs" size="16" class="form" onfocus="nullify_if_equal(this, 'Search JSRs')" type="text">
				<a href="javascript:document.search.submit()" onclick="return validate_search()"><img src="/images/button_go.gif" width="21" height="16" border="0" alt="Submit this Search" name="sub_search"></a>
			</form>
		</div>
		<div class="tools">
			<a href="/en/press/pressroom">Press Room</a> &nbsp;|&nbsp;
			<a href="http://java.com/java/download/index.jsp?cid=jdp78399">Get Java Here</a> &nbsp;|&nbsp;
			<!-- <a href="javascript:void(0)">Print Format</a> &nbsp;|&nbsp;&nbsp; -->
		</div>

	</div>
	<div style="clear: right;"></div>

        

	<div class="topbar"><img src="/images/spacer.gif" alt="" height="3" width="154"></div>
	<div id="update"> </div>
    </div>


    

        <!-- ** BEGIN: Content Table ** //-->

        <table width="100%" border="0" cellpadding="0" cellspacing="0">

            <tr>

                <!-- ** BEGIN: Navigation Column ** //-->
                <td width="150" id="leftcontent" valign="top">
                    <!-- Navigation Placeholder //-->

                    

                    <div class="bar"><img src="/images/hr_dots1.gif" alt="" height="3" width="150"></div>

        <!-- begin find JSRs form -->
        <!-- IMPORTANT! do not convert this form to Struts < html : form > tag.  javascript change of form.action property fails. -->
        <img src="/images/hd_find-jsrs.gif" alt="Find JSRs" height="18" width="150">
        <form name="findjsr" action="/en/jsr/summary" method="get" class="pt5" onsubmit="return validate_findjsr()">
            <input name="id" size="18" class="form" value="Search JSRs" onfocus="nullify_if_equal(this, 'Search JSRs')" type="text">
	    <a href="javascript:document.findjsr.submit()" onclick="return validate_findjsr()"><img src="/images/button_go.gif" width="21" height="16" border="0" alt="Submit this Search" name="sub_search"></a>
        </form><br><br>

        <!-- ** Menu Start ** //-->

        <ul id="p7PMnav">
            <li><a href="/en/jsr/platform">JSRs by Platform</a></li>
            <li><a href="/en/jsr/tech">JSRs by Technology</a></li>
            <li><a href="/en/jsr/stage">JSRs by Stage</a></li>
            <li><a href="/en/jsr/ec">JSRs by Committee</a></li>
            <li><a href="/en/jsr/all">List of All JSRs</a></li>

            <!--end find JSRs form -->
            <div style="clear: both;"><img src="/images/spacer.gif" alt="" height="25" width="1"></div>

            <!--begin my JCP -->
            <img src="/images/hd_my-jcp.gif" alt="My JCP" height="18" width="150">
            

          <form name="login" method="get" action="/en/user/login" >
            <input name="Sign-in" type="submit" title="Sign-in" value="Sign-in" />
          </form>

            <div style="clear:both"><img src="/images/global/spacer.gif" width="1" height="3" alt=""></div>
            <div class="noNav">
                <a href="/en/user/register">Register for Site</a>
            </div>

             <div class="bar"><img src="/images/hr_dots1.gif" alt="" height="3" width="150"></div>
           <div class="noNav" style="color: #666666; padding: 0;">
              Use of JCP site is subject to the
              <a href="/en/home/terms" style="display:inline;padding: 0">JCP Terms of Use</a> and the
              <a href="http://www.oracle.com/us/legal/privacy/index.html" style="display:inline;padding: 0" href="">Oracle Privacy Policy</a>
          </div>

            

            <div style="clear:both"><img src="/images/global/spacer.gif" width="1" height="25" alt=""></div>

            <!--begin JCP info -->
            <img src="/images/hd_jcp-info.gif" alt="JCP Info" height="18" width="150">

            <li><a href="/en/procedures/overview" class="p7PMtrg">About JCP</a>
                <ul>
                    <li><a href="/en/procedures/overview">Program Overview</a></li>
                    <li><a href="/en/procedures/jcp2">JCP Process Document</a></li>
                    <li><a href="/en/whatsnew/calendar">Calendar</a></li>
                    <li><a href="/en/participation/members">JCP Members</a></li>
                    <li><a href="/en/participation/committee">Executive Committee</a></li>
                    <li><a href="/en/whatsnew/elections">Elections</a></li>
                </ul>
            </li>

            <li><a href="/en/participation/overview" class="p7PMtrg">Get Involved</a>
		<ul>
                    <li><a href="/en/participation/overview">Overview</a></li>
                    <li><a href="/en/participation/membership">Becoming a JCP Member</a></li>
		</ul>
            </li>

            <li><a href="/en/resources/contents" class="p7PMtrg">Community Resources</a>
                <ul>
                    <li><a href="/en/resources/contents">Overview</a></li>
                    <li><a href="/en/resources/tutorials">Tutorials</a></li>
                    <li><a href="/en/resources/multimedia">JCP Podcasts</a></li>
                    <li><a href="/en/resources/guide">Spec Lead Guide</a></li>
                    <li><a href="/en/resources/tdk">TCK Tool & Info</a></li>
                    <li><a href="/en/resources/license_reference">License Reference</a></li>
                </ul>
            </li>

            <li><a href="/en/press/pmo" class="p7PMtrg">Community News</a>
                <ul>
                    <li><a href="/en/press/pmo">News</a></li>
                    <li><a href="/en/press/news/awards/awards_main">Programs &amp; Awards</a></li>
                    <li><a href="/en/press/releases">Press Releases</a></li>
                    <li><a href="/en/press/success">Success Stories</a></li>
                </ul>
            </li>

            <li><a href="/en/introduction/faq">FAQ</a></li>

            <li><a href="/en/resources/contacts">Contact Us</a></li>

            <div style="clear: both;"><img src="/images/spacer.gif" alt="" height="25" width="1"></div>

            <!--[if lte IE 6]><style>#p7PMnav a{height:1em;}#p7PMnav li{height:1em;float:left;clear:both;width:100%}</style><![endif]-->
            <!--[if IE 6]><style>#p7PMnav li{clear:none;}</style><![endif]-->
            <!--[if IE 7]><style>#p7PMnav a{zoom:100%;}#p7PMnav li{float:left;clear:both;width:100%;}</style><![endif]-->
        </ul>

        

        <!--begin ad space -->
        <div class="ads">
            <a href="http://java.com/java/download/index.jsp?cid=jdp78399" target="_blank"><img style="display: ;" src="/images/ad_banner2.gif" alt="Ad Banner" border="1" height="70" width="150"></a>
        </div>
        <!--end ad space -->

<!-- ** Menu End ** //-->
&nbsp;<br>
&nbsp;<br>
&nbsp;<br>

    

                    &nbsp;<br>
                    <img src="/images/common/trans.gif" alt="" width="1" height="150"><br>

              



                </td>
                <!-- ** END: Navigation Column ** //-->

                <!-- ** BEGIN: Gutter Column ** //-->
		<td width="10" nowrap><img src="/images/common/trans.gif" alt="" width="10" height="1"></td>
                <!-- ** END: Gutter Column ** //-->

                <!-- ** BEGIN: Content Column ** //-->
                <td width="100%" valign="top">

    
<script type="text/javascript">

String.prototype.trim = function() {
        return this.replace(/^\s+|\s+$/g,"");
}
String.prototype.ltrim = function() {
        return this.replace(/^\s+/,"");
}
String.prototype.rtrim = function() {
        return this.replace(/\s+$/,"");
}

function validate_search() {
	if (document.search.id.value == "Search JSRs" || document.search.id.value.trim().length == 0) {
		alert("Search terms must be entered first");
		return false;
	}
	return true;
}

function validate_findjsr() {
	if (document.findjsr.id.value == "Search JSRs" || document.findjsr.id.value.trim().length == 0) {
		alert("Search terms must be entered first");
		return false;
	}
	return true;
}

function nullify_if_equal(field, str) {
	// alert("val=" + field.value);
	if (field.value == str) {
		field.value = "";
	}
}

</script>
<!-- ** END: header.jsp ** //-->






<html>
<head><title>Change Log for JSR 3 Maintenance Review 3</title></head>
<body>

    <h1>Change Log for JSR 3 Maintenance Review 3</h1>
    <h2>&Eacute;amonn McManus, JSR 3 Maintenance Lead</h2>

    <p>This is the Change Log for the third Maintenance Review of JSR
      3.  Questions and comments on this Change Log should be directed
      to <a href="mailto:jmx-spec-comments@sun.com">
	jmx-spec-comments@sun.com</a>.</p>

    <p>This Maintenance Review defines version 1.3 of the JMX API
      as originally defined by JSR 3.</p>

    <p>The 7-digit code numbers associated with each change are
      identifiers in the public bug database at <a
      href="http://bugs.sun.com/">bugs.sun.com</a>.
    
    <p>A larger set of updates to the JMX specification is planned as
      part of JSR 255, "JMX Specification, version 2.0".  The changes
      proposed in this Maintenance Review are intended as interim
      steps towards JSR 255.  These changes have all been approved by
      the JSR 255 Expert Group.

    <p>An updated standalone TCK will be available that reflects the
      changes in this Maintenance Review.  In addition, it is intended
      that these changes will be included in the Java SE 6 ("Mustang")
      release.

    <h2>Contents</h2>

    <ul>
    <li><a href="#Generic">Generification</h2></a>
    <li><a href="#MXBeans">MXBeans</h2></a>
    <li><a href="#Descriptors">Descriptors</h2></a>
    <li><a href="#JMX">New class javax.management.JMX</h2></a>
    <li><a href="#Notification">NotificationBroadcaster and
    NotificationBroadcasterSupport</a>
    <li><a href="#ObjectName">ObjectName</h2></a>
    <li><a href="#Standard">Standard MBeans</h2></a>
    <li><a href="#Dynamic">Dynamic MBeans</h2></a>
    <li><a href="#Model">Model MBeans</h2></a>
    <li><a href="#Open">Open MBeans</h2></a>
    <li><a href="#Monitor">Monitor Service</h2></a>
    <li><a href="#Timer">Timer Service</h2></a>
    <li><a href="#MLet">MLet Service</h2></a>
    <li><a href="#Relation">Relation Service</h2></a>
    <li><a href="#Query">Query</h2></a>
    <li><a href="#MBSIH">MBeanServerInvocationHandler</h2></a>
    <li><a href="#Serial">Serial forms</h2></a>
    </ul>

    <h2 id="Generic">Generification</h2>

    <p>Constraints due to the integration of version 1.2 of the JMX
      API in both J2EE 1.4 and J2SE 5.0 meant that it could not be
      generified in the latter.  This is now rectified (<a
      href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=4847959">4847959</a>).
      Most of the generification consists of application of the
      generified collections API (<code>java.util.List</code>, and so
      on). So for example, where <code>MBeanServer.queryNames</code>
      previously returned just <code>Set</code>, it now returns
      <code>Set&lt;ObjectName&gt;</code>. The <a
      href="http://download.java.net/jdk6/doc/api/javax/management/openmbean/OpenType.html"><code>javax.management.openmbean.OpenType</code></a>
      class and its subclasses have also been generified to allow type
      constraints to be expressed.  <a
      href="http://download.java.net/jdk6/doc/api/javax/management/openmbean/OpenMBeanAttributeInfoSupport.html">
    <code>OpenMBeanAttributeInfoSupport</code></a> and <a
      href="http://download.java.net/jdk6/doc/api/javax/management/openmbean/OpenMBeanParameterInfoSupport.html">
	<code>OpenMBeanParameterInfoSupport</code></a> acquire type
      constraints in their constructors such that the default or legal
      values must be of the correct type.  The <a
	href="http://download.java.net/jdk6/doc/api/javax/management/StandardMBean.html#StandardMBean(T,%20java.lang.Class)">
	<code>StandardMBean</code> constructor</a> likewise acquires a
	type constraint so that the resource parameter must implement
	the interface specified by the interface parameter.
    </p>

    <p>The following classes and methods have been updated:</p>

    <UL>
      <LI><A HREF="http://download.java.net/jdk6/doc/api/javax/management/MBeanServer.html#queryMBeans(javax.management.ObjectName,%20javax.management.QueryExp)">MBeanServer[Connection].queryMBeans</A> returns Set&lt;ObjectInstance&gt;</li>
      <LI><A HREF="http://download.java.net/jdk6/doc/api/javax/management/MBeanServer.html#queryNames(javax.management.ObjectName,%20javax.management.QueryExp)">MBeanServer[Connection].queryNames</A> returns Set&lt;ObjectName&gt;.</li>

      <LI><A HREF="http://download.java.net/jdk6/doc/api/javax/management/AttributeChangeNotificationFilter.html#getEnabledAttributes()">AttributeChangeNotificationFilter.getEnabledAttributes</A> returns Vector&lt;String&gt;</li>
      <LI><A HREF="http://download.java.net/jdk6/doc/api/javax/management/AttributeList.html#">AttributeList</A> extends ArrayList&lt;Object&gt;</li>
      <LI><A HREF="http://download.java.net/jdk6/doc/api/javax/management/MBeanServerFactory.html#findMBeanServer(java.lang.String)">MBeanServerFactory.findMBeanServer</A> returns ArrayList&lt;MBeanServer&gt;</li>
      <LI><A HREF="http://download.java.net/jdk6/doc/api/javax/management/NotificationFilterSupport.html#getEnabledTypes()">NotificationFilterSupport.getEnabledTypes</A> returns Vector&lt;String&gt;</li>

      <LI>The <A HREF="http://download.java.net/jdk6/doc/api/javax/management/ObjectName.html#">ObjectName</A> class's constructor and getInstance method that formerly took a Hashtable now take a Hashtable&lt;String,String&gt;</li>
      <LI><A HREF="http://download.java.net/jdk6/doc/api/javax/management/ObjectName.html#getKeyPropertyList()">ObjectName.getKeyPropertyList</A> returns Hashtable&lt;String,String&gt;</li>
      <LI><A HREF="http://download.java.net/jdk6/doc/api/javax/management/openmbean/CompositeType.html#keySet()">openmbean.CompositeType.keySet</A> returns Set&lt;String&gt;</li>
      <LI><A HREF="http://download.java.net/jdk6/doc/api/javax/management/openmbean/TabularType.html#getIndexNames()">TabularType.getIndexNames</A> returns List&lt;String&gt;</li>

      <LI><A HREF="http://download.java.net/jdk6/doc/api/javax/management/relation/Relation.html#getReferencedMBeans()">Relation.getReferencedMBeans</A> returns  Map&lt;ObjectName,ArrayList&lt;String&gt;&gt;</li>
      <LI>In <A HREF="http://download.java.net/jdk6/doc/api/javax/management/relation/RelationServiceMBean.html#">RelationServiceMBean</A>:
	<ul>
	  <li><A HREF="http://download.java.net/jdk6/doc/api/javax/management/relation/RelationServiceMBean.html#findAssociatedMBeans(javax.management.ObjectName,%20java.lang.String,%20java.lang.String)">findAssociatedMBeans</A> returns Map&lt;ObjectName,ArrayList&lt;String&gt;&gt;</li>

	  <LI><A HREF="http://download.java.net/jdk6/doc/api/javax/management/relation/RelationServiceMBean.html#findRelationsOfType(java.lang.String)">findRelationsOfType</A> returns List&lt;String&gt;</li>
	  <LI><A HREF="http://download.java.net/jdk6/doc/api/javax/management/relation/RelationServiceMBean.html#getRole(java.lang.String,%20java.lang.String)">getRole</A> returns List&lt;ObjectName&gt;</li>
	  <LI><A HREF="http://download.java.net/jdk6/doc/api/javax/management/relation/RelationServiceMBean.html#findReferencingRelations(javax.management.ObjectName,%20java.lang.String,%20java.lang.String)">findReferencingRelations</A> returns Map&lt;String,ArrayList&lt;String&gt;&gt;</li>

	  <LI><A HREF="http://download.java.net/jdk6/doc/api/javax/management/relation/RelationServiceMBean.html#getAllRelationIds()">getAllRelationIds</A> returns List&lt;String&gt;</li>
	  <LI><A HREF="http://download.java.net/jdk6/doc/api/javax/management/relation/RelationServiceMBean.html#getAllRelationTypeNames()">getAllRelationTypeNames</A> returns List&lt;String&gt;</li>
	  <LI><A HREF="http://download.java.net/jdk6/doc/api/javax/management/relation/RelationServiceMBean.html#getRoleInfos(java.lang.String)">getRoleInfos</A> returns List&lt;RoleInfo&gt;</li>

	  <LI><A HREF="http://download.java.net/jdk6/doc/api/javax/management/relation/RelationServiceMBean.html#getReferencedMBeans(java.lang.String)">getReferencedMBeans</A> returns Map&lt;ObjectName,ArrayList&lt;String&gt;&gt;</li>
	  <LI><A HREF="http://download.java.net/jdk6/doc/api/javax/management/relation/RelationServiceMBean.html#sendRelationRemovalNotification(java.lang.String,%20java.util.List)">sendRelationRemovalNotification</A> takes List&lt;ObjectName&gt;</li>
	  <LI><A HREF="http://download.java.net/jdk6/doc/api/javax/management/relation/RelationServiceMBean.html#updateRoleMap(java.lang.String,%20javax.management.relation.Role,%20java.util.List)">updateRoleMap</A> takes List&lt;ObjectName&gt;</li>

	  <LI><A HREF="http://download.java.net/jdk6/doc/api/javax/management/relation/RelationServiceMBean.html#sendRoleUpdateNotification(java.lang.String,%20javax.management.relation.Role,%20java.util.List)">sendRoleUpdateNotification</A> takes List&lt;ObjectName&gt;</li>
	  <LI><A HREF="http://download.java.net/jdk6/doc/api/javax/management/relation/RelationServiceMBean.html#sendRoleUpdateNotification(java.lang.String,%20javax.management.relation.Role,%20java.util.List)">sendRoleUpdateNotification</A> takes List&lt;ArrayList&gt;</li>
	</ul></li>
      <LI><A HREF="http://download.java.net/jdk6/doc/api/javax/management/relation/RelationType.html#getRoleInfos()">RelationType.getRoleInfos</A> returns List&lt;RoleInfo&gt;</li>

      <LI><A HREF="http://download.java.net/jdk6/doc/api/javax/management/relation/MBeanServerNotificationFilter.html#getEnabledObjectNames()">MBeanServerNotificationFilter.get{Enabled|Disabled}ObjectNames</A>  returns Vector&lt;ObjectName&gt;</li>
      <LI><A HREF="http://download.java.net/jdk6/doc/api/javax/management/relation/RelationNotification.html#">RelationNotification</A>:
	<ul>
	  <LI>constructor arg theUnregMBeanList is now  List&lt;ObjectName&gt;</li>
	  <LI>constructor args the{New|Old}RoleValue are now List&lt;ObjectName&gt;</li>
	  <LI><A HREF="http://download.java.net/jdk6/doc/api/javax/management/relation/RelationNotification.html#getMBeansToUnregister()">getMBeansToUnregister</A> returns List&lt;ObjectName&gt;</li>

	  <LI><A HREF="http://download.java.net/jdk6/doc/api/javax/management/relation/RelationNotification.html#getNewRoleValue()">get{Old|New}RoleValue</A> returns List&lt;ObjectName&gt;</li>
	</ul></li>
      <LI><A HREF="http://download.java.net/jdk6/doc/api/javax/management/relation/RelationService.html#">RelationService</A> methods specified by RelationServiceMBean have received the same changes as <A HREF="http://download.java.net/jdk6/doc/api/javax/management/relation/RelationServiceMBean.html#">RelationServiceMBean</A></li>
      <LI><A HREF="http://download.java.net/jdk6/doc/api/javax/management/relation/RelationSupport.html#">RelationSupport</A> methods specified by Relation have received the same changes as Relation.</li>

      <LI><A HREF="http://download.java.net/jdk6/doc/api/javax/management/relation/RelationTypeSupport.html#getRoleInfos()">RelationTypeSupport.getRoleInfos</A> returns List&lt;RoleInfo&gt;</li>
      <LI><A HREF="http://download.java.net/jdk6/doc/api/javax/management/relation/Role.html#">Role</A> constructor and <A HREF="http://download.java.net/jdk6/doc/api/javax/management/relation/Role.html#getRoleValue()">getRoleValue</A> use List&lt;ObjectName&gt;</li>
      <LI><A HREF="http://download.java.net/jdk6/doc/api/javax/management/relation/RoleList.html#">RoleList</A> extends ArrayList&lt;Object&gt;</li>

      <LI><A HREF="http://download.java.net/jdk6/doc/api/javax/management/relation/RoleUnresolved.html#">RoleUnresolved</A> uses List&lt;ObjectName&gt;</li>
      <LI><A HREF="http://download.java.net/jdk6/doc/api/javax/management/relation/RoleUnresolvedList.html#">RoleUnresolvedList</A> extends ArrayList&lt;Object&gt;</li>
      <LI><A HREF="http://download.java.net/jdk6/doc/api/javax/management/timer/Timer.html#">Timer[MBean].get[All]NotificationIDs</A> returns Vector&lt;Integer&gt;</li>
    </UL>

    <p>MLetMBean and MLet's getMBeansFromURL methods cannot use
      generics because the elements of the returned Set can be either
      ObjectInstance or Throwable. AttributeList, RoleList, and
      RoleUnresolvedList extend ArrayList&lt;Object&gt; rather than
      the more natural ArrayList&lt;Attribute&gt; etc., because the
      latter would introduce an inconsistency due to the existing add
      and set methods which return void rather than boolean and
      Object, respectively.</p>

    <p>New methods <a
	href="http://download.java.net/jdk6/doc/api/javax/management/AttributeList.html#asList()">AttributeList.asList()</a>,
    <a
    href="http://download.java.net/jdk6/doc/api/javax/management/relation/RoleList.html#asList()">RoleList.asList()</a>,
    and <a
    href="http://download.java.net/jdk6/doc/api/javax/management/relation/RoleUnresolvedList.html#asList()">RoleUnresolvedList.asList()</a>
    produce a <code>List</code> view of the underlying object with the
    correct type parameter.  A new constructor <a
    href="http://download.java.net/jdk6/doc/api/javax/management/AttributeList.html#AttributeList(java.util.List)">AttributeList(List&lt;Attribute&gt;)</a>
    converts in the opposite direction (RoleList and
    RoleUnresolvedList already had such constructors).

    <p>A detailed <a
    href="http://weblogs.java.net/blog/emcmanus/archive/generification.txt">generification
	rationale</a> details the choices that were made during
      generification of the API.</p>

    <h2 id="MXBeans">MXBeans</h2>

    <P>Previously, portable modelling of complex types had to be
      performed using Open MBeans, which are difficult to use. A
      feature, MXBeans, was added in J2SE 5 to make modelling with
      complex types easier. In this release, <b>MXBeans have been
      generalized</b> (<a
      href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6175517">6175517</a>). MXBeans
      are a special kind of Standard MBean that provide a non-identity
      mapping between types in the Java interface and types in the
      management interface. In the same way as for Standard MBeans,
      MXBeans contain attributes that are defined by getX and setX
      methods, and other methods are operations.  With MXBeans,
      however, the MBean that is actually registered in the MBean
      Server does not have exactly the same types for its attributes
      and operation parameters and return values. Instead, each type
      that occurs in the MXBean interface is converted to a type built
      from the fixed set defined in
      <code>javax.management.openmbean</code>. The
      MBean that is actually registered in the MBean Server is an Open
      MBean that references these converted types.  When it is
      accessed, it converts values between the original MXBean
      interface type and the converted Open MBean type.

    <p>In this way, a client can access an MXBean without needing to
      know any model-specific types that might be referenced in the
      MXBean interface. The client only needs to know the standard Open
      MBean types.

    <p>The complete MXBean specification appears in the documentation
      for the annotation <a
	href="http://download.java.net/jdk6/doc/api/javax/management/MXBean.html"><code>@MXBean</code></a>.

    <p>The introduction of MXBeans has added or affected the following
    classes and interfaces:

    <UL>
      <LI><A HREF="apidiffs/javax/management/StandardMBean.html#">javax.management.StandardMBean</A> can now be used for MXBeans as well as Standard MBeans.</li>
      <LI><A
HREF="apidiffs/javax/management/MBeanServerInvocationHandler.html#">javax.management.MBeanServerInvocationHandler</A>:
	can now be used for MXBean proxies as well as Standard MBean proxies.</li>
      <LI><A HREF="apidiffs/javax/management/JMX.html">javax.management.JMX</A>: new class, with 4 new methods.</li>
      <LI><A HREF="apidiffs/javax/management/MXBean.html">javax.management.MXBean</A>: new annotation.</li>
      <LI><A HREF="apidiffs/javax/management/PropertyNames.html">javax.management.PropertyNames</a>: new annotation.</li>
      <LI><A HREF="apidiffs/javax/management/openmbean/CompositeDataInvocationHandler.html">javax.management.openmbean.CompositeDataInvocationHandler	</A>: new class, with 2 new methods.</li>
      <LI><A HREF="apidiffs/javax/management/openmbean/CompositeDataView.html">javax.management.openmbean.CompositeDataView</A>: new interface, with one new method.</li>
      <li>Class <a
      href="http://download.java.net/jdk6/doc/api/javax/management/StandardMBean.html"><code>StandardMBean</code></a> can be used to make an
      MXBean.  Also, this class now implements <a
	  href="http://download.java.net/jdk6/doc/api/javax/management/MBeanRegistration.html"><code>MBeanRegistration</code></a>.
	  This allows it to track the name under which an MXBean is
	  registered, in order to handle inter-MXBean references
	  correctly.
    </UL>

    <h2 id="Descriptors">Descriptors</h2>

    <p>Descriptors can be used to supply additional metadata about an
      MBean.  Previously, only Model MBeans supported
      Descriptors.  In this release, <b>support for Descriptors has
      been extended to all types of MBean</b> (<a
	href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6204469">6204469</a>).
      In addition to the general utility of metadata for all
      types of MBeans, the change removes certain gratuitous
      differences between various kinds of MBeans.  In
      particular, it makes it feasible to have an MBean that is
      both an Open MBean and a Model MBean.

    <p>For most constructors in the classes MBean*Info (MBeanInfo,
      MBeanAttributeInfo, etc), a parallel constructor has been
      added with the same parameters plus an additional <a
	href="http://download.java.net/jdk6/doc/api/javax/management/Descriptor.html">Descriptor</a>
      parameter.  Likewise for OpenMBean*InfoSupport.</p>

    <p>Open MBeans return information about default and legal values
      from the <code>getDefaultValue()</code>,
      <code>getLegalValues()</code>, <code>getMaxValue()</code>,
      <code>getMinValue()</code> methods of <a href="http://download.java.net/jdk6/doc/api/javax/management/openmbean/OpenMBeanParameterInfo.html">
	<code>OpenMBeanParameterInfo</code></a> and <a
	href="http://download.java.net/jdk6/doc/api/javax/management/openmbean/OpenMBeanAttributeInfo.html">
	<code>OpenMBeanAttributeInfo</code></a>.  <b>This information is
      now also present in the corresponding Descriptors, and other
      types of MBean can also return the information in their
      Descriptors</b>.

    <p><b>A parent interface of DescriptorAccess called <A
	    HREF="http://download.java.net/jdk6/doc/api/javax/management/DescriptorRead.html">javax.management.DescriptorRead</A>
      has been added</b>, that contains the getDescriptor
      method but not the setDescriptor method. The MBean*Info
      classes implement DescriptorRead.
    
    <p><b>A second, immutable implementation of the Descriptor interface
      called <A HREF="http://download.java.net/jdk6/doc/api/javax/management/ImmutableDescriptor.html">javax.management.ImmutableDescriptor</A>
      has also been added</b>.  This preserves the property that all
      MBeans except Model MBeans have immutable metadata.

    <p><b>A number of new conventional Descriptor items ("fields") are
      documented in the <a
	href="http://download.java.net/jdk6/doc/api/javax/management/Descriptor.html"><code>Descriptor</code></a>
      specification</b> (<a
      href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6254721">6254721</a>).  Some of these items must be understood by
      the implementation (in italics in the specification) while
      others are left uninterpreted.  <b>The predefined field names have
      corresponding string constants in the new <a
      href="http://download.java.net/jdk6/doc/api/javax/management/JMX.html"><code>JMX</code></a>
      class</b> (<a
      href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6282502">6282502</a>).

    <p><b>A new annotation <a
	    href="http://download.java.net/jdk6/doc/api/javax/management/DescriptorKey">
	<code>DescriptorKey</code></a> can be used to add
      information to the Descriptors for a Standard MBean (or
      MXBean) via annotations in the Standard MBean (or MXBean)
      interface</b> (<a
	href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6221321">6221321</a>).
      This makes it possible for a tool that generates Standard
      MBeans from an existing management model to include
      information from the model in the generated MBean
      interfaces, rather than in separate files.

    <p><b>The method <a href="http://download.java.net/jdk6/doc/api/javax/management/Descriptor.html#getFieldValues(java.lang.String...)">
	<code>Descriptor.getFieldValues(String...)</code></a> and the constructor
	<a href="http://download.java.net/jdk6/doc/api/javax/management/modelmbean/DescriptorSupport.html#DescriptorSupport(java.lang.String...)">
	<code>DescriptorSupport(String...)</code></a> previously took
      a <code>String[]</code> parameter</b>.  The varargs syntax makes
      them easier to use.

    <p>A number of other changes have been made regarding descriptors,
      as follows.</p>

    <ul>
      <li><p><a href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6255956">
	    6255956</a>: <b>Descriptor defines <code>equals</code> method and
	  specifies how array values are compared</b>.  The
	  <code>Descriptor</code> interface specifies an <a href="http://download.java.net/jdk6/doc/api/javax/management/Descriptor.html#equals(java.lang.Object)">
	    <code>equals</code></a> method and its two concrete
	    implementations implement it.  This means that
	    <code>MBeanInfo</code> etc can continue to be compared for
	    equality taking the Descriptors into account.  So that
	    different implementations of <code>Descriptor</code> can
	    be mixed, a <a href="http://download.java.net/jdk6/doc/api/javax/management/Descriptor.html#hashCode()">
	    <code>hashCode()</code></a> method is also specified and
	    implemented.

      <li><p><a href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6267824">
	    6267824</a>: <b>Clarify order the returned array is sorted
	  with when calling <a href="http://download.java.net/jdk6/doc/api/javax/management/Descriptor.html#getFieldValues(java.lang.String...)">
	    <code>Descriptor.getFieldValues(null)</code></a></b>.
	  Previously it was not specified what order the returned
	  values were in.

      <li><p><a
	    href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6273765">6273765</a>:
	  <b>Descriptor.getFieldValues(non-empty-array) on an empty
	  descriptor has no special behavior</b>.  The array returned by
	  this method has as many elements as there are parameters,
	  with each element being the value associated with the
	  corresponding parameter, or null if there is no such
	  value.</p>
 
	<p>Through an oversight or an editing error, the @returns
	  clause of this method previously said:
	  <em>If the descriptor is empty, you will get an empty
	    array.</em>  Almost certainly, what was meant was that if
	  the list of names is empty, you will get an empty array.
	  As specified, there was a pernicious special case: if some
	  or all of the names in the list are missing from the
	  Descriptor, the corresponding elements in the returned
	  array will be null, <em>except</em> if the Descriptor is empty,
	  in which case there won't be any elements in the array.</p>
 
	<p>This special case did not show up in the existing use of
	  Descriptors for Model MBeans, because empty Descriptors were
	  not valid in any of the places where they were used.  (Every
	  Descriptor had to have at least the "name" and
	  "descriptorType" entries.)  However, this is no longer true
	  for the more generalized use of Descriptors.  The
	  previously-specified behavior would therefore have generated
	  hard-to-find bugs.</p>

      <li><p><a href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6273613">
	    6273613</a>: <b>Specify exception wrapping for
	    <code>Descriptor.setField</code> and
	    <code>Descriptor.setFields</code></b>.  These
	    methods were previously declared to throw <a href="http://download.java.net/jdk6/doc/api/javax/management/RuntimeOperationsException.html">
	    <code>RuntimeOperationsException</code></a> but the
	    specification did not say what the wrapped exception was.
    </ul>

    <h2 id="JMX">New class javax.management.JMX</h2>

    <p><b>A new class <a href="http://download.java.net/jdk6/doc/api/javax/management/JMX.html"><code>
	  javax.management.JMX</code></a> has been added to house
      constants and static methods</b>.

    <h2 id="Notification">NotificationBroadcaster and NotificationBroadcasterSupport</h2>

    <p>A number of changes concern the interface <a
	href="http://download.java.net/jdk6/doc/api/javax/management/NotificationBroadcaster.html">
	<code>NotificationBroadcaster</code></a> and its default
	implementation <a
	href="http://download.java.net/jdk6/doc/api/javax/management/NotificationBroadcasterSupport.html">
	<code>NotificationBroadcasterSupport</code></a>.</p>

    <ul>
      <li><p><a
	  href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=4506105">
	  4506105</a>: Previously, to specify the types of
	  notifications that could be sent, it was necessary to
	  subclass <code>NotificationBroadcasterSupport</code> and
	  override the <code>getNotificationInfo()</code> method. In
	  this release, <b>new constructors have been added, that take a
	  <code>MBeanNotificationInfo...</code> as input</b>.</p>

      <li><p><a href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=4661545">
	  4661545</a>: Previously, the specification was very vague
	about whether the notification dispatch model was synchronous
	or asynchronous. When a thread called <a href="http://download.java.net/jdk6/doc/api/javax/management/NotificationBroadcasterSupport.html#sendNotification(javax.management.Notification)">
	  <code>sendNotification</code></a>, the
	<a href="http://download.java.net/jdk6/doc/api/javax/management/NotificationListener.html#handleNotification(javax.management.Notification,%20java.lang.Object)">
	  <code>NotificationListener.handleNotification</code></a>
	method of each listener might be called within that thread (a
	synchronous model) or within some other thread (an
	asynchronous model), depending on the class
	implementation. J2SE 5 implemented the synchronous model,
	meaning that <code>NotificationBroadcasterSupport</code> used
	the sender thread to send the notification to all listeners.
	Users had to create a subclass to override the method
	<code>handleNotification</code> if they wanted an asynchronous model.</p>

	<p>In Java SE 6, the default model is still synchronous. <b>A
	  constructor has been added to the class
	  <code>NotificationBroadcasterSupport</code> to take a
	  <a href="http://download.java.net/jdk6/doc/api/java/util/concurrent/Executor.html">
	    <code>java.util.concurrent.Executor</code></a> as a
	    parameter</b>.
	  The <code>Executor</code> is used to dispatch the
	  notification to its listeners. This allows users to avoid
	  creating a subclass if they want the asynchronous model.</p>

      <li><p><b>A third constructor combines the functionality of the
	  above two</b>, with both an <code>Executor</code> and an
	  <code>MBeanNotificationInfo...</code> as parameters.</p>

      <li><p><a
	    href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6244863">
	    6244863</a>: <b>Specify what happens with
	    NotificationBroadcasterSupport if a filter or listener
	    throws an exception</b>.  Previously, the JMX specification
	    did not define what happens when the listeners or filters
	    maintained by a notification broadcaster threw an
	    exception. This behavior has now been specified.  An <a
	    href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Exception.html">
	    <code>Exception</code></a> does not prevent other listeners
	    from being invoked.  But an <a
	    href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Error.html">
	      <code>Error</code></a> is propagated to the caller of
	    <code>sendNotification</code>.</p>

      <li><p><a
	    href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6252526">
	    6252526</a>: <b>A new class, <a
	    href="http://download.java.net/jdk6/doc/api/javax/management/StandardEmitterMBean.html">
	    <code>javax.management.StandardEmitterMBean</code></a>,
	    has been added</b>.  <code>StandardEmitterMBean</code> is a
	    subclass of <code>javax.management.StandardMBean</code>
	    that is a <code>NotificationEmitter</code>.</p>

    </ul>

    <h2 id="ObjectName">ObjectName</h2>

    <p>A number of changes concern the class <a
	href="http://download.java.net/jdk6/doc/api/javax/management/ObjectName.html">
	<code>ObjectName</code></a>.</p>

    <ul>

      <li><p><a
	    href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=4716807">
	    4716807</a>: <b>Support <code>key=*</code> wildcard in
	  ObjectName</b>.  Previously, it was possible to say
	  <code>domain:key1=value1,*</code> to match MBeans that
	  have <code>key1=value1</code> in their name, but not
	  <code>domain:key1=*</code> to match MBeans that have
	  <code>key1</code> in their name. The ObjectName
	  functionality has been extended in this release, so that
	  you can put a wildcard (<code>*</code> and/or
	  <code>?</code>) anywhere in a value.</p>

	<p><b>Two new methods, <a
	    href="http://download.java.net/jdk6/doc/api/javax/management/ObjectName.html#isPropertyValuePattern()">
	    <code>isPropertyValuePattern()</code></a> and <a
	    href="http://download.java.net/jdk6/doc/api/javax/management/ObjectName.html#isPropertyValuePattern(java.lang.String)">
	    <code>isPropertyValuePattern(String
	    property)</code></a></b>,
	    allow you to discover whether an ObjectName has a wildcard
	    in the value of some property, and if so which property it
	    might be.</p>

      <li><p><a
	    href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=4780400">
	    4780400</a>: <b>Two new ObjectName constants added</b>.  Users of
	    the JMX API very often need to refer to two ObjectName
	    constants:</p>

	<pre>
    new ObjectName("JMImplementation:type=MBeanServerDelegate")
    new ObjectName("*:*")
</pre>

	<p>The first of these is hard to remember, and if you get it
	  wrong then your code compiles but doesn't work. Both of
	  these suffer from the problem that the ObjectName
	  constructors throw the checked exception
	  <code>MalformedObjectNameException</code>, so you end up
	  having to wrap your constant in a try/catch block.</p>

	<p>To remedy this situation, two new constants have been added
	  in this release:</p>

	<ul>
	  <li><a
	      href="http://download.java.net/jdk6/doc/api/javax/management/MBeanServerDelegate.html#DELEGATE_NAME">
	    <code>javax.management.MBeanServerDelegate.DELEGATE_NAME</code></a>
	  <li><a href="http://download.java.net/jdk6/doc/api/javax/management/ObjectName.html#WILDCARD">
	      <code>javax.management.ObjectName.WILDCARD</code></a>
	</ul>

	<li><p><a
	    href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=5036680">
	    5036680</a>: <b><code>ObjectName</code> implements
	    <code>Comparable&lt;ObjectName&gt;</code></b>.  By
	    implementing Comparable we allow a SortedSet<ObjectName>
	    to show its contents in a reasonable order without having
	    to define a custom Comparator.  See <a
	    href="http://download.java.net/jdk6/doc/api/javax/management/ObjectName.html#compareTo(javax.management.ObjectName)">
	      <code>ObjectName.compareTo(ObjectName)</code></a>.
    </ul>

    <h2 id="Standard">Standard MBeans</h2>

    <p>The following changes have been made to the specification of
      Standard MBeans.</p>

    <ul>
      <li><p><a
	    href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=4949203">
	    4949203</a>: <b>Correct text about invoking getters and
	  setters</b>.  The JMX 1.2 specification document was supposed to
	  clarify, per the Maintenance Review change list, that
	  getters and setters in a Standard MBean cannot be invoked
	  through <code>MBeanServer.invoke</code>.  But the text to
	  this effect erroneously appeared in the section about
	  Dynamic MBeans.  It should obviously be in the section about
	  Standard MBeans.</p>

	<p>Also, this text mentioned the property
	  <code>"jmx.invoke.getters"</code>.  Since it appears in the
	  spec, one might conclude that an implementation is required to
	  respect this property.  But that's not what was stated during
	  the Maintenance Review and it's not what was intended.
	  Rather, this property is a feature of the Reference
	  Implementation to ease the transition for code that may have
	  incorrectly relied on being able to invoke getters before.  So
	  it should appear in the Release Notes of the RI, not in the
	  spec.

      <li>
	<p><a href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6190628">
	    6190628</a>: <b>Standard MBeans support covariant return
	    types in MBean interfaces</b>.  J2SE 5 introduced covariant
	    return types in classes and interfaces. However, MBean
	    servers would reject Standard MBeans created with
	    covariant types as they would appear inconsistent. In this
	    release, covariance is allowed for operations (methods
	    other than getters and setters) and for read-only
	    attributes (getters without corresponding setters).
    </ul>

    <h2 id="Dynamic">Dynamic MBeans</h2>

    <p>The following changes have been made concerning Dynamic
      MBeans.</p>

    <ul>
      <li><p><a href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6306219">
	    6306219</a>: <b>Clarify <a
	    href="http://download.java.net/jdk6/doc/api/javax/management/MBeanServer.html#isInstanceOf(javax.management.ObjectName,%20java.lang.String)">
	    <code>MBeanServer.isInstanceOf</code></a> semantics for
	  Dynamic MBeans</b>.  The specification of this method omitted an
	  important case where it should return true, namely where the
	  MBean's ClassLoader can load the named class and the MBean
	  is an instance of that class.  The RI did in fact return
	  true in this case.  It makes a difference when a
	  DynamicMBean returns in its MBeanInfo a class name of which
	  it is not an instance.  For example, an instance of
	  <code>javax.management.StandardMBean</code> (which is a
	  DynamicMBean) could return an MBeanInfo whose
	  <code>getClassName()</code> returned
	  <code>"javax.management.timer.TimerMBean"</code>.  Under the
	  current specification, the call
	  <code>mbeanServer.isInstanceOf(objectName,&nbsp;"javax.management.StandardMBean")</code>
	  would then return false, since <code>TimerMBean</code> is
	  not an instance of <code>StandardMBean</code>.  In fact, it
	  returns true, since the actual MBean object <em>is</em> an
	  instance of <code>StandardMBean</code>.

	<p>With the addition of the class
	  <code>StandardEmitterMBean</code>, and
	  the existing practice of using <code>isInstanceOf</code> to determine
	  whether an MBean is a <code>NotificationBroadcaster</code>, it becomes
	  important to change the spec to reflect the implementation.  A
	  <code>StandardEmitterMBean</code> will typically return an MBeanInfo with a
	  class name that is not an
	  <code>NotificationBroadcaster</code>; however, we
	  want
	  <code>isInstanceOf(...,&nbsp;"javax.management.NotificationBroadcaster")</code>
	  to return true.
    </ul>

    <h2 id="Model">Model MBeans</h2>

    <p>A large number of small changes are applied to the
      specification for Model MBeans.</p>

    <ul>
      <li><p><a
	  href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=4883709">
	  4883709</a>: <b>"value" and "displayName" fields in Model MBean
	  descriptors should be in italics</b>.  This is a bug in the PDF
	  spec.  Optional fields are supposed to be in italics but
	  these ones were not.

      <li><p><a href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=4997033">
	  4997033</a>: <b>RequiredModelMBean.setAttribute should throw
	  exception if no setMethod and no currencyTimeLimit</b>.  This
	  change resolves a contradiction between the PDF and Javadoc
	  texts.  The specification is clarified so that an exception
	  is thrown only when there is no setMethod and no caching, so
	  that the <code>setAttribute</code> operation would have no
	  effect.

      <li><p><a href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=5043245">
	  5043245</a>: <b>Attribute type check is too restrictive in
	  RequiredModelMBean.getAttribute()</b>.  The specification was
	  unclear as to whether the returned value had to be of the
	  exact type declared for the attribute or could be of a
	  subtype.  It is changed to allow a subtype explicitly.
	
      <li><p><a href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=5046781">
	  5046781</a>: <b>Spec should say role field in
	  ModelMBeanOperationInfo descriptor is optional</b>.  The PDF
	  spec is clarified to allow this field to be omitted,
	  reflecting the behavior of the Reference Implementation.

      <li><p><a href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=5046784">
	  5046784</a>: <b>Value of targetType in Model MBean descriptors
	  is case insensitive</b>.  Although the specification implied
	  through its examples that this field is case-insensitive, it
	  was omitted from the explicit list of case-insensitive
	  fields.

      <li><p><a href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=5104947">
	  5104947</a>: <b>Clarify whether ModelMBeanInfoSupport.clone is
	  deep or shallow</b>.  The specification is modified to state the
	  existing behavior whereby the clone is shallow.

      <li><p><a href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6175387">
	  6175387</a>: <b>Add new <code>OnUnregister</code> persistPolicy
	value to Model MBean descriptor</b>.  When persistence is
	supported for Model MBean data, you can define how it works
	using a persistPolicy value in the Descriptor for an MBean
	attribute. Previously, these values were Never, OnUpdate,
	OnTimer, NoMoreOftenThan, and Always. This release has added
	a new value, OnUnregister, that means that the value of the
	attribute is persisted when the MBean containing it is
	unregistered from the MBean Server.  The specification of
	the methods that consult this field has been updated
	accordingly, as has the list of persistPolicy values that do
	not result in a store in <a
	  href="http://download.java.net/jdk6/doc/api/javax/management/modelmbean/RequiredModelMBean.html#store()">
	  <code>RequiredModelMBean.store()</code></a> and <a
	  href="http://download.java.net/jdk6/doc/api/javax/management/modelmbean/RequiredModelMBean.html#setAttribute(javax.management.Attribute)">
	  <code>RequiredModelMBean.setAttribute</code></a>.

      <li><p><a href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6241620">
	  6241620</a>: <b>DescriptorSupport(String[],Object[]) doc
	contradictory concerning null parameters</b>.  A contradiction
	in the spec is resolved to reflect the behavior of the RI,
	which was already required by the TCK.

      <li><p><a href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6332962">
	  6332962</a>: <b>Problem serializing DescriptorSupport
	  containing targetObject field</b>.  A Descriptor for an
	  attribute or operation in a Model MBean can contain a
	  <code>targetObject</code> field to direct accesses to that
	  attribute or operation towards a different resource from the
	  one defined for the Model MBean as a whole.  As such, its
	  value is often a non-serializable object, and in any case it
	  does not make sense to serialize it.  Therefore the spec is
	  updated to exclude it from the serialization of
	  DescriptorSupport so that RequiredModelMBean.getMBeanInfo()
	  returns a serializable object.
    </ul>

    <h2 id="Open">Open MBeans</h2>

    <p>Many of the changes to Open MBeans were inspired by the
      addition of user-defined MXBeans.  Here is the complete set of
      changes.</p>

    <ul>
      <li><p>
	  <a href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=5045358">
	    5045358</a>: <b>Allow Open MBeans to reference arrays of
	  primitive type</b>.  Previously, the set of types that could be
	  referenced by an Open MBean only included the primitive
	  wrapper types such as <code>java.lang.Integer</code> and
	  <code>java.lang.Boolean</code>. However, it did not include
	  the primitive types such as <code>int</code> and
	  <code>boolean</code>. Arrays of these primitives are now
	  included. The ArrayType class has been extended so that
	  primitive types such as an <code>int[]</code> can be expressed as an
	  OpenType. This new functionality allows MXBeans to map
	  arrays of primitive types in the MXBean interface to the
	  corresponding OpenTypes.</p>

	<p>The following methods have been added to the ArrayType class:
<UL>
<LI><A HREF="http://download.java.net/jdk6/doc/api/javax/management/openmbean/ArrayType.html#getArrayType(javax.management.openmbean.OpenType)">javax.management.openmbean.ArrayType.getArrayType(OpenType)</A></li>
<LI><A HREF="http://download.java.net/jdk6/doc/api/javax/management/openmbean/ArrayType.html#getPrimitiveArrayType(java.lang.Class)">javax.management.openmbean.ArrayType.getPrimitiveArrayType(Class)</A></li>
<LI><A HREF="http://download.java.net/jdk6/doc/api/javax/management/openmbean/ArrayType.html#isPrimitiveArray()">javax.management.openmbean.ArrayType.isPrimitiveArray()</A></li>
<LI><A HREF="http://download.java.net/jdk6/doc/api/javax/management/openmbean/ArrayType.html#ArrayType(javax.management.openmbean.SimpleType,%20boolean)">javax.management.openmbean.ArrayType(SimpleType,boolean)</A></li>
</UL>
	<p><b>In the constructor <A
HREF="http://download.java.net/jdk6/doc/api/javax/management/openmbean/ArrayType.html#ArrayType(int,%20javax.management.openmbean.OpenType)">ArrayType(int
dimension, OpenType&lt;?&gt; elementType)</A>, the elementType
parameter can now be an ArrayType instance</b> (<a
href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6252649">6252649</a>).
The <A HREF="http://download.java.net/jdk6/doc/api/javax/management/openmbean/ArrayType.html#equals(java.lang.Object)">ArrayType.equals</a> and <A HREF="http://download.java.net/jdk6/doc/api/javax/management/openmbean/ArrayType.html#hashCode()">ArrayType.hashcode</a> methods now take the new primitiveArray flag into account.

      <li><p><a
	    href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=5095277">
	  5095277</a>: <b><code>CompositeDataSupport.equals</code> compares arrays
	element-by-element</b>.  Previously, if two
	<code>CompositeDataSupport</code> elements each had the same
	<code>CompositeType</code> containing at least one
	<code>ArrayType</code> item, calling
	<code>CompositeDataSupport.equals</code> would only compare
	the identities of the arrays. Consequently,
	<code>CompositeDataSupport.equals</code> would only return
	true if the objects referred to the same array. Now, calling
	<a
	href="http://download.java.net/jdk6/doc/api/javax/management/openmbean/CompositeDataSupport.html#equals(java.lang.Object)">
	  <code>CompositeDataSupport.equals</code></a> compares the the arrays
	element-by-element, so it will return true if the two objects
	refer to different arrays with the same contents.  A
	corresponding change is made to <a
	href="http://download.java.net/jdk6/doc/api/javax/management/openmbean/CompositeDataSupport.html#hashCode()">
	  <code>CompositeDataSupport.hashCode</code></a>.</p>

      <li><p><a
	    href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6228130">
	  6228130</a>: <b><a
	  href="http://download.java.net/jdk6/doc/api/javax/management/openmbean/TabularDataSupport.html#entrySet()">
	    <code>TabularDataSupport.entrySet()</code></a> specifies key
	  in the returned <code>Set</code> is wrapped into a
	  <code>List</code></b>.  The
	  documentation was previously unclear about the contents of
	  the returned Set.  This is now clarified by making it a
	  <code>Set&lt;Map.Entry&lt;Object,Object&gt;&gt;</code> but
	  detailing that it is in fact a
	  <code>Set&lt;Map.Entry&lt;List&lt;?&gt;,CompositeData&gt;&gt;</code>.
	  For compatibility reasons, the latter declaration is not
	  directly possible.

      <li><p><a
	    href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6320104">
	    6320104</a>: <b>Add
	  ability to set to UNKNOWN the OperationInfo impact of an Open
	  MBean</b>.  The allowed values for the <code>impact</code> of an
	  <a href="http://download.java.net/jdk6/doc/api/javax/management/MBeanOperationInfo.html">
	    <code>MBeanOperationInfo</code></a> are
	    <code>ACTION</code>, <code>INFO</code>,
	    <code>ACTION_INFO</code> and <code>UNKNOWN</code>.  The
	    last of these values was previously not allowed for an <a
	    href="http://download.java.net/jdk6/doc/api/javax/management/openmbean/OpenMBeanOperationInfoSupport.html">
	    <code>OpenMBeanOperationInfoSupport</code></a>.

    </ul>

    <h2 id="Monitor">Monitor Service</h2>

    <p>The following changes are made to the specification of the
      Monitor Service (package <a
	href="http://download.java.net/jdk6/doc/api/javax/management/monitor/package-summary.html">
	<code>javax.management.monitor</code></a>).

    <ul>
      <li><p><a
	    href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6222961">
	    6222961</a>: <b>Monitor Service supports complex types</b>.
	    Previously with the Monitor Service, you could only
	    monitor an attribute of simple type. Often, the value you
	    want to monitor is buried inside a more complex type. For
	    example, if you are dealing with the J2EE instrumentation
	    defined by JSR 77, then to set a monitor on a servlet's
	    service time, you want to get the <code>ServiceTime</code>
	    attribute for the servlet and monitor
	    <code>serviceTime.getMaxTime()</code>.  The spec is
	    changed so that you can monitor
	    <code>ServiceTime.maxTime</code> to get this effect.  The
	    detailed specification is in <a
	    href="http://download.java.net/jdk6/doc/api/javax/management/monitor/package-summary.html">
	    <code>javax.management.monitor</code></a>.

      <li><p><a
	    href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6239455">
	    6239455</a>: <b>Specify that monitor tasks are run within the
	    access control context of the <code>monitor.start()</code>
	    caller</b>.  When security is active, the security checks
	    carried out to see if the caller has access to the
	    attribute or to any security protected operation the
	    attribute implementation might perform are based on the
	    access control context of the <code>monitor.start()</code>
	    caller and not on the access control context of the
	    monitor creator.  This is stated in the package
	    documentation for <a
	    href="http://download.java.net/jdk6/doc/api/javax/management/monitor/package-summary.html">
	    <code>javax.management.monitor</code></a>.

    </ul>

    <h2 id="Timer">Timer Service</h2>

    <p>The following changes are made to the specification of the
      Timer Service (package <a
	href="http://download.java.net/jdk6/doc/api/javax/management/timer/package-summary.html">
	<code>javax.management.timer</code></a>).

    <ul>
      <li><p><a
	    href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6235077">6235077</a>:
	    <b>javax.management.timer.Timer doc was inconsistent about
	    what happens for Date in the past</b>.  Prior to version 1.2
	    of the JMX Specification, the Timer service was defined to
	    throw an exception if a notification was scheduled for a
	    time in the past.  Starting from version 1.2, the more
	    logical behaviour of sending the notification immediately
	    in this case was introduced.  However, some of the
	    documentation for javax.management.timer.Timer still
	    reflected the old behaviour.  In particular, the Notes in
	    the class documentation included one that said that
	    past-time notifications will be ignored, and the @throws
	    documentation for the IllegalArgumentException said it was
	    thrown for a past date.
    </ul>

    <h2 id="MLet">MLet Service</h2>

    <p>The following changes are made to the specification of the
      MLet Service (package <a
	href="http://download.java.net/jdk6/doc/api/javax/management/loading/package-summary.html">
	<code>javax.management.loading</code></a>).

    <ul>
      <li><p><a href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=4796780">
	    4796780</a>: <b>MLetContent class should be public</b>.  In the
	  last release, the <a
	    href="http://download.java.net/jdk6/doc/api/javax/management/loading/MLet.html#check(java.lang.String,%20java.net.URL,%20java.lang.String,%20javax.management.loading.MLetContent)">
	    <code>MLet.check</code></a> method was made public, but
	  one of its parameters was of type
	  <a href="http://download.java.net/jdk6/doc/api/javax/management/loading/MLetContent.html">
	    <code>javax.management.loading.MLetContent</code></a>, and
	    that class remained private. This introduced an
	    inconsistency in that a publicly-visible method referenced
	    a non-visible class. This has been corrected by making
	    MLetContent public.
    </ul>


    <h2 id="Relation">Relation Service</h2>

    <p>The following changes are made to the specification of the
      Relation Service (package <a
	href="http://download.java.net/jdk6/doc/api/javax/management/relation/package-summary.html">
	<code>javax.management.relation</code></a>).

    <ul>
      <li><p><a
	    href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=4892674">
	    4892674</a>: <b>Problem serializing
	    RelationNotification</b>.
	    	  The <a
	    href="http://download.java.net/jdk6/doc/api/javax/management/relation/RelationNotification.html">
	    <code>RelationNotification</code></a> constructors
	    required their source parameter to be an instance of
	    <code>RelationService</code>, relying on the MBean Server
	    to rewrite this to the ObjectName of the RelationService
	    before forwarding the notification to users.  This is
	    fragile, and in particular makes it hard to reconstruct a
	    RelationNotification instance, for example from a
	    serialized XML form.  The constructor is modified to also
	    allow the source to be an <code>ObjectName</code>.

      <li><p><a
	    href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=5053367">
	    5053367</a>: <b>RelationService.addRelationType spec rejects
	    null relation type name</b>.  RelationService.addRelationType
	    (and RelationServiceMBean.addRelationType) are explicitly
	    specified to throw IllegalArgumentException if the
	    RelationType argument returns null from its
	    getRelationTypeName().  RelationService.addRelationType
	    (and RelationServiceMBean.addRelationType) are explicitly
	    specified to throw IllegalArgumentException if the
	    RelationType argument returns null from its
	    getRelationTypeName().  The other RelationService methods
	    that take a relation type name are all specified to reject a
	    null name.  Thus if addRelationType allowed one, you would
	    end up with a RelationType that you could do nothing with.
	    In particular, you couldn't even remove it again.

      <li><p><a
	    href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6229880">
	    6229880</a>: <b>RelationSupport javadoc was unclear</b>.
	    <code>RelationSupport.setRole</code> specified that a
	    RoleNotFoundException is thrown if the role is not
	    writable.  In fact, a RoleNotFoundException is also thrown
	    when there is no defined role for the given name (same
	    condition as the getRole method).</p>

	<p><code>RelationSupport.setRoles</code> specified that an
	    IllegalArgumentException was thrown if the role
	    <em>name</em> was null.  <b>This should be the role
	    <em>list</em></b>.
    </ul>

    <h2 id="Query">Query</h2>

    <p><b>The new <A
	HREF="file:///home/emcmanus/jmx/jmx1.3/javadoc/javax/management/Query.html#isInstanceOf(javax.management.StringValueExp)">
	<code>javax.managent.Query.isInstanceOf(StringValueExp
	className)</code></A> method</b> allows users to get all MBeans
	that are instances of a specific class (<a
	href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=5072174">5072174</a>).

    <h2 id="MBSIH">MBeanServerInvocationHandler</h2>

    <p>The following changes are made to the specification of <a
    href="http://download.java.net/jdk6/doc/api/javax/management/MBeanServerInvocationHandler.html">MBeanServerInvocationHandler</a>:

    <ul>
      <li><p><a href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6177524">
	    6177524</a>: <b>MBeanServerInvocationHandler no longer
	    forwards Object methods to proxied MBean</b>.  Previously,
	    MBeanServerInvocationHandler forwarded the methods
	    hashCode(), toString(), and equals(Object) to proxied
	    MBeans, meaning that an MBean proxy could not be used as a
	    key in a HashMap (for example to look up a cached
	    MBeanInfo for the proxy). MBeanServerInvocationHandler now
	    only forwards these methods if they are explicitly
	    mentioned in the MBean interface for which it is a
	    handler. The
	    javax.management.MBeanServerInvocationHandler.invoke
	    method has been updated to examine the MBean interface to
	    check whether it contains the methods in question.</p>

      <li><p><a href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6278707">
	    6278707</a>: <b>MBeanServerInvocationHandler acquires getters
	    to retrieve its constructor parameters</b>.  These are the new
	    methods <code>getMBeanServerConnection()</code>,
	    <code>getObjectName()</code>, and <code>isMXBean()</code>.
    </ul>

    <p>A new method <a href="http://download.java.net/jdk6/doc/api/javax/management/JMX.html#newMBeanProxy(javax.management.MBeanServerConnection,%20javax.management.ObjectName,%20java.lang.Class)">
	<code>JMX.newMBeanProxy</code></a> provides an
	easier-to-remember alternative to <a href="http://download.java.net/jdk6/doc/api/javax/management/MBeanServerInvocationHandler.html#newProxyInstance(javax.management.MBeanServerConnection,%20javax.management.ObjectName,%20java.lang.Class,%20boolean)">
	<code>MBeanServerInvocationHandler.newProxyInstance</code></a>.

    <h2 id="Serial">Serial forms</h2>

    <p>The specification of the serial form of the classes in the JMX
      API has been clarified as follows.</p>

    <ul>
      <li><p><a
	    href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6253903">
	    6253903</a>: Specification for JMX API lists
	    serialVersionUID of all serializable classes.  For
	    implementation reasons, the <a
	    href="http://download.java.net/jdk6/doc/api/serialized-form.html">
	    Serialized Form</a> page from the Javadoc-generated
	    specification omits the <code>serialVersionUID</code> of
	    certain classes.  Independent implementations need this
	    information for compliance, so where necessary it has been
	    supplied in the specification of the classes themselves.

      <li><p><a href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6344759">
	    6344759</a>: Mandate more clearly the 12
	    <code>javax.management.*Exp</code> private classes.  For
	    interoperation between implementations, the value returned
	    by the various static <code>Query.*</code> methods (such
	    as <a href="http://download.java.net/jdk6/doc/api/javax/management/Query.html#and(javax.management.QueryExp,%20javax.management.QueryExp)">
	    <code>Query.and</code></a>) must be of a given non-public
	    class, or at least must serialize as such.  The
	    specification of these methods is updated accordingly.
    </ul>
</body>
</html>




<!-- ** BEGIN: footer.jsp ** //-->








</td>
</tr>
</table>

<!-- ** END: Content Table ** //-->

<!-- ** BEGIN: Footer Table ** //-->

<div id="footer" style="clear: both;">
    <div class="footleft">
        <a href="/en/resources/contacts">Contact Us</a>
    </div>
	
    <div class="botbar"><img src="/images/spacer.gif" alt="" height="23" width="1"></div>

    <div class="footleft2">
         &copy; 2019, Oracle Corporation and/or its affiliates. 
        <a href="/en/home/terms">Terms of Use</a>. <a href="http://www.oracle.com/us/legal/privacy/index.html">Privacy Policy</a>. <a href="http://www.oracle.com/us/legal/third-party-trademarks/third-party-trademarks-078568.html">Trademarks</a>
    </div>

    <div class="footright">
        <img src="/images/common/logo_oracle_footer.gif" alt="Oracle Corporation" height="22" width="91">
    </div>

    <div style="clear: both;"><img src="/images/spacer.gif" alt="" height="30" width="1"></div>
</div>

<!-- ** END: Footer Table ** //-->



<!-- ** Menu Start ** //-->



</body>
</html>
<!-- ** END: footer.jsp ** //-->


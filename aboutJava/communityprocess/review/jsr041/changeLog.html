
<!-- ** BEGIN: header.jsp ** //-->






















<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3c.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html>
<head>
    

   
    <link href="/includes/css/menu.css" rel="stylesheet" type="text/css"></link>
    <link href="/includes/css/style.css" rel="stylesheet" type="text/css"></link>
    <!--[if lt IE 6]><link href="/includes/css/style5.css" rel="stylesheet" type="text/css" ></link><![endif]-->
    <!--[if gte IE 5]><link href="/includes/css/style6.css" rel="stylesheet" type="text/css" ></link><![endif]-->
    <link href="/includes/css/tabs.css"  rel="stylesheet" type="text/css"></link>

    <script type="text/javascript" src="/includes/scripts/tabs.js"></script>
    <script type="text/javascript" src="/includes/scripts/menu.js"></script>
   

    

    
        <title>The Java Community Process(SM) Program - communityprocess - review</title>
    

    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
</head>



<body onload="P7_initPM(0,1,0,0,-1)">

    <a name="top"></a>

    <div id="header">
	<div id="logo">
		<a href="/en/home/index"><img src="/images/spacer.gif" alt="Java Community Process" height="81" width="151"></a>
	</div>
	<div id="tools">
		<div class="search">
			<form name="search" action="/en/jsr/summary" method="get" onsubmit="return validate_search()">
				<input name="id" value="Search JSRs" size="16" class="form" onfocus="nullify_if_equal(this, 'Search JSRs')" type="text">
				<a href="javascript:document.search.submit()" onclick="return validate_search()"><img src="/images/button_go.gif" width="21" height="16" border="0" alt="Submit this Search" name="sub_search"></a>
			</form>
		</div>
		<div class="tools">
			<a href="/en/press/pressroom">Press Room</a> &nbsp;|&nbsp;
			<a href="http://java.com/java/download/index.jsp?cid=jdp78399">Get Java Here</a> &nbsp;|&nbsp;
			<!-- <a href="javascript:void(0)">Print Format</a> &nbsp;|&nbsp;&nbsp; -->
		</div>

	</div>
	<div style="clear: right;"></div>

        

	<div class="topbar"><img src="/images/spacer.gif" alt="" height="3" width="154"></div>
	<div id="update"> </div>
    </div>


    

        <!-- ** BEGIN: Content Table ** //-->

        <table width="100%" border="0" cellpadding="0" cellspacing="0">

            <tr>

                <!-- ** BEGIN: Navigation Column ** //-->
                <td width="150" id="leftcontent" valign="top">
                    <!-- Navigation Placeholder //-->

                    

                    <div class="bar"><img src="/images/hr_dots1.gif" alt="" height="3" width="150"></div>

        <!-- begin find JSRs form -->
        <!-- IMPORTANT! do not convert this form to Struts < html : form > tag.  javascript change of form.action property fails. -->
        <img src="/images/hd_find-jsrs.gif" alt="Find JSRs" height="18" width="150">
        <form name="findjsr" action="/en/jsr/summary" method="get" class="pt5" onsubmit="return validate_findjsr()">
            <input name="id" size="18" class="form" value="Search JSRs" onfocus="nullify_if_equal(this, 'Search JSRs')" type="text">
	    <a href="javascript:document.findjsr.submit()" onclick="return validate_findjsr()"><img src="/images/button_go.gif" width="21" height="16" border="0" alt="Submit this Search" name="sub_search"></a>
        </form><br><br>

        <!-- ** Menu Start ** //-->

        <ul id="p7PMnav">
            <li><a href="/en/jsr/platform">JSRs by Platform</a></li>
            <li><a href="/en/jsr/tech">JSRs by Technology</a></li>
            <li><a href="/en/jsr/stage">JSRs by Stage</a></li>
            <li><a href="/en/jsr/ec">JSRs by Committee</a></li>
            <li><a href="/en/jsr/all">List of All JSRs</a></li>

            <!--end find JSRs form -->
            <div style="clear: both;"><img src="/images/spacer.gif" alt="" height="25" width="1"></div>

            <!--begin my JCP -->
            <img src="/images/hd_my-jcp.gif" alt="My JCP" height="18" width="150">
            

          <form name="login" method="get" action="/en/user/login" >
            <input name="Sign-in" type="submit" title="Sign-in" value="Sign-in" />
          </form>

            <div style="clear:both"><img src="/images/global/spacer.gif" width="1" height="3" alt=""></div>
            <div class="noNav">
                <a href="/en/user/register">Register for Site</a>
            </div>

             <div class="bar"><img src="/images/hr_dots1.gif" alt="" height="3" width="150"></div>
           <div class="noNav" style="color: #666666; padding: 0;">
              Use of JCP site is subject to the
              <a href="/en/home/terms" style="display:inline;padding: 0">JCP Terms of Use</a> and the
              <a href="http://www.oracle.com/us/legal/privacy/index.html" style="display:inline;padding: 0" href="">Oracle Privacy Policy</a>
          </div>

            

            <div style="clear:both"><img src="/images/global/spacer.gif" width="1" height="25" alt=""></div>

            <!--begin JCP info -->
            <img src="/images/hd_jcp-info.gif" alt="JCP Info" height="18" width="150">

            <li><a href="/en/procedures/overview" class="p7PMtrg">About JCP</a>
                <ul>
                    <li><a href="/en/procedures/overview">Program Overview</a></li>
                    <li><a href="/en/procedures/jcp2">JCP Process Document</a></li>
                    <li><a href="/en/whatsnew/calendar">Calendar</a></li>
                    <li><a href="/en/participation/members">JCP Members</a></li>
                    <li><a href="/en/participation/committee">Executive Committee</a></li>
                    <li><a href="/en/whatsnew/elections">Elections</a></li>
                </ul>
            </li>

            <li><a href="/en/participation/overview" class="p7PMtrg">Get Involved</a>
		<ul>
                    <li><a href="/en/participation/overview">Overview</a></li>
                    <li><a href="/en/participation/membership">Becoming a JCP Member</a></li>
		</ul>
            </li>

            <li><a href="/en/resources/contents" class="p7PMtrg">Community Resources</a>
                <ul>
                    <li><a href="/en/resources/contents">Overview</a></li>
                    <li><a href="/en/resources/tutorials">Tutorials</a></li>
                    <li><a href="/en/resources/multimedia">JCP Podcasts</a></li>
                    <li><a href="/en/resources/guide">Spec Lead Guide</a></li>
                    <li><a href="/en/resources/tdk">TCK Tool & Info</a></li>
                    <li><a href="/en/resources/license_reference">License Reference</a></li>
                </ul>
            </li>

            <li><a href="/en/press/pmo" class="p7PMtrg">Community News</a>
                <ul>
                    <li><a href="/en/press/pmo">News</a></li>
                    <li><a href="/en/press/news/awards/awards_main">Programs &amp; Awards</a></li>
                    <li><a href="/en/press/releases">Press Releases</a></li>
                    <li><a href="/en/press/success">Success Stories</a></li>
                </ul>
            </li>

            <li><a href="/en/introduction/faq">FAQ</a></li>

            <li><a href="/en/resources/contacts">Contact Us</a></li>

            <div style="clear: both;"><img src="/images/spacer.gif" alt="" height="25" width="1"></div>

            <!--[if lte IE 6]><style>#p7PMnav a{height:1em;}#p7PMnav li{height:1em;float:left;clear:both;width:100%}</style><![endif]-->
            <!--[if IE 6]><style>#p7PMnav li{clear:none;}</style><![endif]-->
            <!--[if IE 7]><style>#p7PMnav a{zoom:100%;}#p7PMnav li{float:left;clear:both;width:100%;}</style><![endif]-->
        </ul>

        

        <!--begin ad space -->
        <div class="ads">
            <a href="http://java.com/java/download/index.jsp?cid=jdp78399" target="_blank"><img style="display: ;" src="/images/ad_banner2.gif" alt="Ad Banner" border="1" height="70" width="150"></a>
        </div>
        <!--end ad space -->

<!-- ** Menu End ** //-->
&nbsp;<br>
&nbsp;<br>
&nbsp;<br>

    

                    &nbsp;<br>
                    <img src="/images/common/trans.gif" alt="" width="1" height="150"><br>

              



                </td>
                <!-- ** END: Navigation Column ** //-->

                <!-- ** BEGIN: Gutter Column ** //-->
		<td width="10" nowrap><img src="/images/common/trans.gif" alt="" width="10" height="1"></td>
                <!-- ** END: Gutter Column ** //-->

                <!-- ** BEGIN: Content Column ** //-->
                <td width="100%" valign="top">

    
<script type="text/javascript">

String.prototype.trim = function() {
        return this.replace(/^\s+|\s+$/g,"");
}
String.prototype.ltrim = function() {
        return this.replace(/^\s+/,"");
}
String.prototype.rtrim = function() {
        return this.replace(/\s+$/,"");
}

function validate_search() {
	if (document.search.id.value == "Search JSRs" || document.search.id.value.trim().length == 0) {
		alert("Search terms must be entered first");
		return false;
	}
	return true;
}

function validate_findjsr() {
	if (document.findjsr.id.value == "Search JSRs" || document.findjsr.id.value.trim().length == 0) {
		alert("Search terms must be entered first");
		return false;
	}
	return true;
}

function nullify_if_equal(field, str) {
	// alert("val=" + field.value);
	if (field.value == str) {
		field.value = "";
	}
}

</script>
<!-- ** END: header.jsp ** //-->






<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0075)http://java.sun.com/aboutJava/communityprocess/review/jsr041/changeLog.html -->
<HTML><HEAD><TITLE>Change Log for JSR-000041 Public Draft (Assertions)</TITLE>
<META content="text/html; charset=windows-1252" http-equiv=Content-Type>
<META content="MSHTML 5.00.2722.2800" name=GENERATOR></HEAD>
<BODY bgColor=#ffffff>
<CENTER>
<H2>Changes Between the Original Proposal and the Public Draft</H2>
<H3>JSR-000041</H3></CENTER>
<HR>
<BR>&nbsp; 
<H2>I. Introduction</H2>
<OL>
  <LI>Removed the statement that "It is not, in general, possible for the 
  compiler to enforce a prohibition on side-effects in assertions." It was 
  pointed out that with sufficient modifications to the language, a compiler 
  might be able to enforce such a prohibition. A similar change was made to the 
  statement regarding the use of assertions for argument checking. </LI></OL>
<H2>II. Syntax</H2>
<OL>
  <LI>Eliminated the required parentheses from the first form of the call, for 
  consistency with the <TT>return</TT> and <TT>throw</TT> statements. Of course, 
  parentheses can still be used if desired. Parentheses are still required in 
  the second form. 
  <LI><A name=primitivemsg>Eliminated the restriction in the second form of the 
  <TT>assert</TT> statement that the the second expression must have a reference 
  type.</A> There was no compelling reason for this restriction, and removing it 
  provides added convenience, e.g., for developers who want to associate a 
  unique integer code with each assertion. 
  <LI>Added subscripts to the expressions in the grammar to clarify exposition. 
  </LI></OL>
<H2>III. Semantics</H2>
<OL>
  <LI>If the evaluation of the second ("detail message") expression in the 
  two-expression form of the <TT>assert</TT> statement causes an exception to be 
  thrown, this exception will <I>not</I> be caught, but will propagate outward. 
  This was previously the case for the first (boolean) expression, but not the 
  second. The change was made to simplify the semantics of the call and increase 
  their consistency. 
  <LI>The second expression in the second form of the <TT>assert</TT> statement 
  is converted to a string as per JLS Section 15.17.1.1 to allow for primitive 
  and null values. This semantics change corresponds to syntax change II.2. 
  <LI>The semantics was tightened up, and an effort was made to ensure that the 
  style was similar to that of the other execution specifications in the JLS. 
  </LI></OL>
<H2>IV. Enabling and Disabling Assertions</H2>
<OL>
  <LI>Renamed <TT>setAssertionStatus(String className, boolean enabled)</TT> to 
  <TT>setClassAssertionStatus(String packageName, boolean enabled)</TT> and 
  <TT>setDefaultAssertionStatus(String className, boolean enabled)</TT> to 
  <TT>setPackageAssertionStatus(String className, boolean enabled)</TT>. The new 
  names are less confusing, as they do not rely on overloading. 
  <LI>The <TT>setClassAssertionStatus</TT> method no longer throws an exception 
  if the specified class has already been loaded. Instead, it returns a boolean 
  value allowing the caller to determine whether the class will have (or already 
  has) the desired assertion status. This behavior makes the method easier to 
  use, especially in the case of low-level system classes, for which it is hard 
  to predict whether they've already been loaded. 
  <LI>Modified specification of <TT>setClassAssertionStatus(String className, 
  boolean enabled)</TT> to indicate that the named class must be a top-level 
  class. The nested-class granularity in previous drafts was judged not to be 
  useful. Further, the implementation in Appendix IV did not work for nested 
  classes. 
  <LI>The method originally named <TT>setDefaultAssertionStatus(String, 
  boolean)</TT> (now named <TT>setPackageAssertionStatus(String, boolean))</TT> 
  was erroneously specified to return a <TT>boolean</TT> value. The return type 
  has been changed to <TT>void</TT>. 
  <LI>Modified <TT>setPackageAssertionStatus</TT> method to provide support for 
  "package trees." This allows assertions to be enabled easily in complex 
  software systems consisting of multiple packages (e.g., Swing). 
  <LI>Clarified specification for <TT>setPackageAssertionStatus</TT> to indicate 
  how to modify the package default assertion status for the <I>unnamed 
  package</I> that is <I>"current"</I> (JLS 7.4.2). Previously, it was not clear 
  how to do this, and this functionality is clearly useful. 
  <LI>Clarified specifications of <TT>setPackageAssertionStatus</TT>, 
  <TT>setClassAssertionStatus</TT> and <TT>desiredAssertionStatus</TT> to 
  specify what constitutes an illegal class or package name. 
  <LI>Documented <TT>IllegalArgumentException</TT> for all <TT>ClassLoader</TT> 
  methods that take a string argument. It is generally a good thing to document 
  the unchecked exceptions that a method may throw. 
  <LI>Clarified specification to indicate that all assertion status setting 
  methods are instance methods on ClassLoader. 
  <LI>Added specification for <TT>desiredAssertionStatus</TT> method. This 
  method may be of little value to programmers but it greatly simplifies the 
  implementation of the facility. This method was previously discussed in the 
  "Implementation Notes" section. 
  <LI>Enlarged the discussion of anonymous classes to apply to all "unnamable" 
  classes. Other such classes (e.g., <I>local classes</I>) were not addressed by 
  the original specification. </LI></OL>
<H2>V. New Error Class</H2>
<OL>
  <LI>Removed <TT>clazz</TT>, <TT>file</TT>, <TT>line</TT> and <TT>method</TT> 
  arguments from constructor, and removed corresponding accessors from the 
  class. This functionality will be "moved up the hierarchy" to Throwable, and 
  will not require the information to be passed into the constructor. It was 
  decided that this functionality was too useful to be restricted to assertion 
  errors. Further, it partially duplicated the functionality of stack traces, 
  which are available for any <TT>Throwable</TT>. 
  <LI>Added an AssertionError constructor that takes a detail message. This 
  constructor was unintentionally omitted from the original proposal. 
  <LI>Added doc comment for class <TT>AssertionError</TT>. This comment was 
  unintentionally omitted from the original proposal. </LI></OL>
<H2>Appendix I. Usage Notes</H2>
<OL>
  <LI>Added this non-normative appendix discussing uses of the facility. 
</LI></OL>
<H2>Appendix II. Enabling and Disabling Assertions in the Interpreter</H2>
<OL>
  <LI>Added this non-normative appendix describing the facilities that an 
  interpreter might provide to allow assertions to be enabled and disabled. This 
  material was previously contained in Section IV. It was moved in order to 
  segregate all non-normative material in appendices. 
  <LI>Modified <TT>-ea</TT> and <TT>-da</TT> descriptions to use ellipsis 
  (<TT>"..."</TT>) in place of asterisk (<TT>"*"</TT>), to eliminate the need 
  for quoting the flag argument in most shells. This also emphasizes the 
  difference in semantics between this string and the one that occurs in the 
  <TT>import</TT> declaration. (The former refers to a package tree, while the 
  latter refers to a single package.) 
  <LI>Clarified specification of <TT>-ea</TT> switch to indicate how to enable 
  the package default assertion status for the <I>unnamed package</I> that is 
  <I>"current"</I>. This is the interpreter analogue of IV.6. 
  <LI>The default assertion status for the class loader was erroneously implied 
  to be "enabled" when describing the command line switches. The specification 
  was clarified to say that assertions are disabled by default in the 
  interpreter. 
  <LI>Added cautionary note concerning the presence of multiple class loaders. 
  The interpreter must be careful to enable or disable assertions on the correct 
  class loader. </LI></OL>
<H2>Appendix III. Source Compatibility</H2>
<OL>
  <LI>Added this non-normative appendix describing a strategy whereby compiler 
  writers can allow developers to continue using existing programs that use 
  <TT>assert</TT> as an identifier. </LI></OL>
<H2>Appendix IV. Implementation Notes</H2>
<OL>
  <LI>Modified the initialization of the synthetic field 
  (<TT>$assertionsEnabled</TT>) to reflect the fact that 
  <TT>desiredAssertionStatus</TT> is an instance method. (This was simply a bug 
  in the original code.) 
  <LI>Moved the specification for <TT>desiredAssertionStatus(className)</TT> to 
  Section IV. It was decided that it was better to add this function to the 
  public API, rather than to invoke it via some form of "black magic." 
  <LI>Added <TT>String.valueOf</TT> call to the "equivalent code expansion" for 
  the <TT>assertion</TT> statement. This is necessary to support <A 
  href="http://java.sun.com/aboutJava/communityprocess/review/jsr041/changeLog.html#primitivemsg">primitive</A> 
  and null values. 
  <LI>Added <TT>do-while</TT> loop to "equivalent code expansion," along with 
  explanation of its purpose. (It causes the equivalent code to have the proper 
  syntactic category, <I>StatementWithoutTrailingSubstatement</I>.) </LI></OL>
<H2>Appendix V. Design FAQ</H2>
<OL>
  <LI>Added this non-normative appendix to serve as a design rationale. </LI></OL>
<H2>Miscellaneous Changes</H2>
<OL>
  <LI>Added section numbers, as befits a specification. 
  <LI>Eliminated "Open Issues" section. </LI></OL></BODY></HTML>



<!-- ** BEGIN: footer.jsp ** //-->








</td>
</tr>
</table>

<!-- ** END: Content Table ** //-->

<!-- ** BEGIN: Footer Table ** //-->

<div id="footer" style="clear: both;">
    <div class="footleft">
        <a href="/en/resources/contacts">Contact Us</a>
    </div>
	
    <div class="botbar"><img src="/images/spacer.gif" alt="" height="23" width="1"></div>

    <div class="footleft2">
         &copy; 2019, Oracle Corporation and/or its affiliates. 
        <a href="/en/home/terms">Terms of Use</a>. <a href="http://www.oracle.com/us/legal/privacy/index.html">Privacy Policy</a>. <a href="http://www.oracle.com/us/legal/third-party-trademarks/third-party-trademarks-078568.html">Trademarks</a>
    </div>

    <div class="footright">
        <img src="/images/common/logo_oracle_footer.gif" alt="Oracle Corporation" height="22" width="91">
    </div>

    <div style="clear: both;"><img src="/images/spacer.gif" alt="" height="30" width="1"></div>
</div>

<!-- ** END: Footer Table ** //-->



<!-- ** Menu Start ** //-->



</body>
</html>
<!-- ** END: footer.jsp ** //-->

